<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) & !(IE 8)]><!-->
<html lang="en-US">
<!--<![endif]-->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="http://www.susa.net/wordpress/xmlrpc.php" />
<!--[if lt IE 9]>
<script src="http://www.susa.net/wordpress/wp-content/themes/ribosome/js/html5.js" type="text/javascript"></script>
<![endif]-->
<title>Raspberry Pi &#8211; Driving a Relay using GPIO | SusaNET</title>
<link rel="alternate" type="application/rss+xml" title="SusaNET &raquo; Feed" href="http://www.susa.net/wordpress/feed/" />
<link rel="alternate" type="application/rss+xml" title="SusaNET &raquo; Comments Feed" href="http://www.susa.net/wordpress/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="SusaNET &raquo; Raspberry Pi &#8211; Driving a Relay using GPIO Comments Feed" href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/feed/" />
<link rel='stylesheet' id='ribosome-fonts-css'  href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700&#038;subset=latin,latin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='ribosome-style-css'  href='http://www.susa.net/wordpress/wp-content/themes/ribosome/style.css?ver=2.1.8' type='text/css' media='all' />
<!--[if lt IE 9]>
<link rel='stylesheet' id='ribosome-ie-css'  href='http://www.susa.net/wordpress/wp-content/themes/ribosome/css/ie.css?ver=20121010' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='dashicons-css'  href='http://www.susa.net/wordpress/wp-includes/css/dashicons.min.css?ver=4.1' type='text/css' media='all' />
<link rel='stylesheet' id='font-awesome-css'  href='http://www.susa.net/wordpress/wp-content/themes/ribosome/css/font-awesome-4.7.0/css/font-awesome.min.css?ver=4.1' type='text/css' media='all' />
<script type='text/javascript' src='http://www.susa.net/wordpress/wp-includes/js/jquery/jquery.js?ver=1.11.1'></script>
<script type='text/javascript' src='http://www.susa.net/wordpress/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.susa.net/wordpress/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.susa.net/wordpress/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Raspberry Pi PCF8563 Real Time Clock (RTC)' href='http://www.susa.net/wordpress/2012/06/raspberry-pi-pcf8563-real-time-clock-rtc/' />
<link rel='next' title='Raspberry Pi GPFSEL, GPIO, and PADS Status Viewer' href='http://www.susa.net/wordpress/2012/07/raspberry-pi-gpfsel-gpio-and-pads-status-viewer/' />
<meta name="generator" content="WordPress 4.1" />
<link rel='canonical' href='http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/' />
<link rel='shortlink' href='http://www.susa.net/wordpress/?p=83' />
	<style type='text/css'>
		a {color: #82A31D;}
	a:hover {color: #82A31D;}
	.social-icon-wrapper a:hover {color: #82A31D;}
	.toggle-search {color: #82A31D;}
	.prefix-widget-title {color: #82A31D;}
	.sub-title a:hover {color:#82A31D;}
	.entry-content a:visited,.comment-content a:visited {color:#82A31D;}
	button, input[type="submit"], input[type="button"], input[type="reset"] {background-color:#82A31D !important;}
	.bypostauthor cite span {background-color:#82A31D;}
	.entry-header .entry-title a:hover {color:#82A31D ;}
	.archive-header {border-left-color:#82A31D;}
	.main-navigation .current-menu-item > a,
	.main-navigation .current-menu-ancestor > a,
	.main-navigation .current_page_item > a,
	.main-navigation .current_page_ancestor > a {color: #82A31D;}
	.main-navigation li a:hover  {color: #82A31D;}

	.widget-area .widget a:hover {
		color: #82A31D !important;
	}
	footer[role="contentinfo"] a:hover {
		color: #82A31D;
	}
	.author-info a {color: #82A31D;}
	.entry-meta a:hover {
	color: #82A31D;
	}
	.format-status .entry-header header a:hover {
		color: #82A31D;
	}
	.comments-area article header a:hover {
		color: #82A31D;
	}
	a.comment-reply-link:hover,
	a.comment-edit-link:hover {
		color: #82A31D;
	}
	.currenttext, .paginacion a:hover {background-color:#82A31D;}
	.aside{border-left-color:#82A31D !important;}
	blockquote{border-left-color:#82A31D;}
	.logo-header-wrapper{background-color:#82A31D;}
	h3.cabeceras-fp {border-bottom-color:#82A31D;}
	.encabezados-front-page {background-color:#82A31D;}
	.icono-caja-destacados {color: #82A31D;}
	.enlace-caja-destacados:hover {background-color: #82A31D;}
	h2.comments-title {border-left-color:#82A31D;}

			.top-bar {
			background-color: #82A31D;
		}
		.social-icon-wrapper a:hover {
			color:#fff;
		}
	
			.blog-info-sin-imagen {background-color: #82A31D;}
	
			.widget-title-tab{
			background-color:#82A31D;
			color:#fff;
		}
		.widget-title-tab a.rsswidget{color:#fff !important;}
		h3.widget-title { border-bottom:2px solid #82A31D;}
	
	
	
	
			.logo-header-wrapper {background-color:#ffffff;}
	
			.wrapper-excerpt-thumbnail img {
	 		border-radius:50%;
		}
	
			.entry-content {
			text-align:justify;
		}
	
		body.custom-font-enabled {font-family: "Open Sans", Arial, Verdana;}

			@media screen and (min-width: 768px) {
			#primary {float:left;}
			#secondary {float:right;}
			.site-content {
				border-left: none;
				padding-left:0;
				padding-right: 24px;
				padding-right:1.714285714285714rem;
			}

		}
		@media screen and (min-width: 960px) {
			.site-content {
				border-right: 1px solid #e0e0e0;
			}
		}
	
	@media screen and (min-width: 768px) {
			.excerpt-wrapper{border-left:2px solid #82A31D;}
	
	
		.main-navigation ul.nav-menu,
		.main-navigation div.nav-menu > ul {
			background-color:#222222;
			border-top:none;
			border-bottom:none;
		}
		.main-navigation li a {
			color:#EAEAEA;
		}
		.main-navigation li ul li a {
			color:#444;
		}

		.main-navigation li ul li a {
			background-color:#222222;
			color:#eaeaea;
			border-bottom-color:#444444;
		}
		.main-navigation li ul li a:hover {
			background-color:#222222;
			color:#82A31D;
		}

	
		}
	</style>

	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
	<style type="text/css" id="ribosome-header-css">
			.site-header h1 a,
		.site-header h2 {
			color: #ffffff;
		}
		</style>
	<style type="text/css" id="syntaxhighlighteranchor"></style>
</head>

<body class="single single-post postid-83 single-format-standard custom-background custom-font-enabled single-author">

<div id="page" class="hfeed site">
	
	<header id="masthead" class="site-header" role="banner">
	
		<div class="top-bar">
				
		<div class="boton-menu-movil"><i class="fa fa-align-justify"></i></div>
		
					<div class="blog-title-wrapper">
				SusaNET			</div>
				
		<div class="toggle-search"><i class="fa fa-search"></i></div>
		<div class="social-icon-wrapper">
						
						
						
						
						
						
						
					</div><!-- .social-icon-wrapper -->	
	</div><!-- .top-bar -->
	
	<div class="wrapper-search-top-bar">
		<div class="search-top-bar">
				<div>
		<form method="get" id="searchform-toggle" action="http://www.susa.net/wordpress/">
			<label for="s" class="assistive-text">Search</label>
			<input type="search" class="txt-search" name="s" id="s" />
			<input type="submit" name="submit" id="btn-search" value="Search" />
		</form>
    </div>		</div>
	</div>		  
		  <div style="position:relative">
			  
<div id="menu-movil">
	<div class="search-form-movil">
		<form method="get" id="searchform-movil" action="http://www.susa.net/wordpress/">
			<label for="s" class="assistive-text">Search</label>
			<input type="search" class="txt-search-movil" placeholder="Search..." name="s" id="s" />
			<input type="submit" name="submit" id="btn-search-movil" value="Search" />
		</form>
    </div><!-- search-form-movil -->
	<div class="menu-movil-enlaces">
		<div class="nav-menu"><ul><li ><a href="http://www.susa.net/wordpress/">Home</a></li><li class="page_item page-item-286 page_item_has_children"><a href="http://www.susa.net/wordpress/references/">References</a><ul class='children'><li class="page_item page-item-327"><a href="http://www.susa.net/wordpress/references/arduino-yun-notes/">Arduino Yun, Dragino 2 (MS14), and Carambola2 Notes</a></li><li class="page_item page-item-472"><a href="http://www.susa.net/wordpress/references/atmega328p-notes/">ATmega328P Notes</a></li><li class="page_item page-item-306"><a href="http://www.susa.net/wordpress/references/beaglebone-black-notes/">BeagleBone Black Notes</a></li><li class="page_item page-item-284"><a href="http://www.susa.net/wordpress/references/clas-ohlson-wh1080-rfm01-configuration/">Clas Ohlson WH1080 RFM01 Configuration</a></li><li class="page_item page-item-378"><a href="http://www.susa.net/wordpress/references/creator-ci20-sbc-mipspowervr/">Creator CI20 SBC (MIPS+PowerVR)</a></li><li class="page_item page-item-484"><a href="http://www.susa.net/wordpress/references/rf-lora-868-so-sx1272-notes/">RF-LORA-868-SO (SX1272) Notes</a></li></ul></li><li class="page_item page-item-432"><a href="http://www.susa.net/wordpress/gripes/">Gripes</a></li><li class="page_item page-item-2"><a href="http://www.susa.net/wordpress/about/">About</a></li></ul></div>
	</div>
	
	<div class="social-icon-wrapper-movil">
						
						
						
						
						
						
						
					</div><!-- .social-icon-wrapper -->	
</div><!-- #menu-movil -->		  </div>
        
        		
					
			<div class="image-header-wrapper">			<a href="http://www.susa.net/wordpress/"><img src="http://www.susa.net/wordpress/wp-content/uploads/2015/03/cropped-MintsNealFowler.jpg" class="header-image" width="1260" height="240" alt="SusaNET" /></a>
			</div><!-- .logo-header-wrapper or .image-header-wrapper -->
			
		        
        		
		<nav id="site-navigation" class="main-navigation" role="navigation">
			<a class="assistive-text" href="#content" title="Skip to content">Skip to content</a>
			<div class="nav-menu"><ul><li ><a href="http://www.susa.net/wordpress/">Home</a></li><li class="page_item page-item-286 page_item_has_children"><a href="http://www.susa.net/wordpress/references/">References</a><ul class='children'><li class="page_item page-item-327"><a href="http://www.susa.net/wordpress/references/arduino-yun-notes/">Arduino Yun, Dragino 2 (MS14), and Carambola2 Notes</a></li><li class="page_item page-item-472"><a href="http://www.susa.net/wordpress/references/atmega328p-notes/">ATmega328P Notes</a></li><li class="page_item page-item-306"><a href="http://www.susa.net/wordpress/references/beaglebone-black-notes/">BeagleBone Black Notes</a></li><li class="page_item page-item-284"><a href="http://www.susa.net/wordpress/references/clas-ohlson-wh1080-rfm01-configuration/">Clas Ohlson WH1080 RFM01 Configuration</a></li><li class="page_item page-item-378"><a href="http://www.susa.net/wordpress/references/creator-ci20-sbc-mipspowervr/">Creator CI20 SBC (MIPS+PowerVR)</a></li><li class="page_item page-item-484"><a href="http://www.susa.net/wordpress/references/rf-lora-868-so-sx1272-notes/">RF-LORA-868-SO (SX1272) Notes</a></li></ul></li><li class="page_item page-item-432"><a href="http://www.susa.net/wordpress/gripes/">Gripes</a></li><li class="page_item page-item-2"><a href="http://www.susa.net/wordpress/about/">About</a></li></ul></div>
		</nav><!-- #site-navigation -->
			
	</header><!-- #masthead -->

	<div id="main" class="wrapper">
	<div id="primary" class="site-content">
		<div id="content" role="main">

			
				
	<article id="post-83" class="post-83 post type-post status-publish format-standard hentry category-technical tag-electronics tag-hardware tag-raspberry-pi tag-raspi">

		
		
				<header class="entry-header">
			<div class="entry-title-subtitle">
									<h1 class="entry-title">Raspberry Pi &#8211; Driving a Relay using GPIO</h1>
				
				<!-- Author, date and comments -->
				<div class='sub-title'>
					<div class="autor-fecha">
						<span class="autor-in-full-posts"><i class="fa fa-user"></i> <span class='author vcard'><a class='fn' rel='author' href='http://www.susa.net/wordpress/author/admin/'>Kevin Sangeelee</a></span></span>
						<span class="fecha-in-full-posts">
							&nbsp;&nbsp;<i class="fa fa-calendar-o"></i> <time class='entry-date published' datetime='2012-06-26T21:42:52+00:00'>June 26, 2012</time> <time class='updated' style='display:none;' datetime='2013-05-08T13:54:27+00:00'>May 8, 2013</time>						</span>
						<span class="comments-in-full-posts">
							&nbsp;&nbsp;<i class="fa fa-comment-o"></i> <a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comments" title="Comment on Raspberry Pi &#8211; Driving a Relay using GPIO">141 Comments</a>						</span>
					</div><!-- autor-fecha -->
				</div><!-- .sub-title -->
			</div><!-- .entry-title-subtitle -->
		</header><!-- .entry-header -->
		
		<!-- Subtitle widget area -->
					<div class="sub-title-widget-area">
							</div><!-- .sub-title-widget-area -->
		
				
			<div class="entry-content">
								<p>There&#8217;s something exciting about crossing the boundary between the abstract world of software and the physical &#8216;real world&#8217;, and a relay driven from a GPIO pin seemed like a good example of this. Although a simple project, I still learned some new things about the Raspberry Pi while doing it.</p>
<p>There are only four components required, and the cost for these is around 70p, so it would be a good candidate for a classroom exercise. Even a cheap relay like the Omron G5LA-1 5DC can switch loads of 10A at 240V.<span id="more-83"></span></p>
<p><strong>A word of caution</strong>: don&#8217;t tinker with mains voltages unless you&#8217;re really (<em>really</em>) sure about what you&#8217;re doing. A mechanical relay allows a safe learning environment, since you can switch any load with it (e.g. a 9V DC battery/bulb circuit for testing), and the concept of a mechanical switch is very easy to grasp. A more efficient alternative to switch an AC load would be to use a solid-state relay (e.g. opto-coupled Triac), but it&#8217;s quite easy to make a wrong assumption and blow everything up with a loud bang and a big spark. I recommend sticking with mechanical relays until you&#8217;re entirely sure about what you&#8217;re doing. Tip: you can buy plug-in low-voltage AC power-supplies if you want to play with triacs.</p>
<h2>The Circuit</h2>
<p>There are four components to this circuit. A relay (5V DC coil), a BC337 NPN transistor, a diode, and 1K resistor. Essentially, the transistor is used to energise the relay&#8217;s coil with the required voltage and current.</p>
<p>A relay will often have 3 significant voltage/current ratings specified; coil, AC load, and DC load. The most important to our circuit is the coil rating, which is the current at a specified voltage required to energise the coil (activate the switch), sometimes expressed as milliwatts (mW).</p>
<p>The AC and DC load ratings relate to the switch-contacts, and state the maximum load current (e.g. for your lamp, motor, etc.) that can be carried at the given AC and DC voltages. DC loads are rated lower because they arc (spark) more, which eventually wears the contacts to the point of failure. In general, large loads need heavier contacts, which in turn need bigger coils to switch them, and bigger coils need more power from your circuit.</p>
<p>Relays sometimes don&#8217;t fit easily onto a breadboard, so you might want to build the circuit on veroboard instead, or just mount the relay on veroboard and add two pins for the coil contacts (allowing you to breadboard it). <em>Don&#8217;t ever put AC mains into your breadboard!</em></p>
<div id="attachment_86" style="width: 624px" class="wp-caption alignnone"><a href="http://www.susa.net/wordpress/wp-content/uploads/2012/06/Relay-Sample.png"><img class=" wp-image-86 " title="GPIO Relay Sample" src="http://www.susa.net/wordpress/wp-content/uploads/2012/06/Relay-Sample.png" alt="" width="614" height="472" /></a><p class="wp-caption-text">Schematic for a relay via GPIO on the Raspberry Pi</p></div>
<p>&nbsp;</p>
<p>The GPIO pin used in the example code is GPIO_17, which appears on pin 11 of the Raspberry Pi&#8217;s 26-pin expansion header (opposite GPIO_18 (PCM_CLK) and beside GPIO_21 (PCM_DOUT)). The choice of GPIO 17 was simply because I considered it less likely to conflict with other peripherals likely to be in use.</p>
<p>Although the pin is marked 3.3V on the schematic, don&#8217;t confuse this with the 3V3 pin &#8211; I labelled it with the voltage to highlight that a 3.3V GPIO pin is driving a 5V load &#8211; it could also drive a 24V coil, for example, if an appropriate DC power supply is used rather than the Raspi&#8217;s 5V line.</p>
<p>Essentially, to activate the relay, all the circuit does is send a few milliamps at 3.3V from the GPIO pin, through a 1K resistor (you may choose to increase this to 1.2K if you want to be strictly below 3mA). This current is enough to saturate the BC337 transistor, causing current to flow on the 5V rail through the transistor, and therefore also through the relay&#8217;s coil.</p>
<p>Most general purpose NPN transistors with an minimum hFE of say 50 to 100 could be used in place of the BC337 &#8211; it will depend on a) how much current you&#8217;re willing to draw from the GPIO pin, b) how much current is required to energise the relay&#8217;s coil, c) the actual hFE of the transistor in your hand, since they vary wildly and the current gain could easily be significantly more than the stated minimum.</p>
<p>The diode in the circuit is there to conduct the current generated by the de-energising coil back across the coil (e.g. when switched off), allowing the power to dissipate more gradually, avoiding a voltage spike.</p>
<p>Take care to orient the diode correctly, or you&#8217;ll short 5V to ground via the transistor when the GPIO is high. Similarly, take care to correctly identify the collector, base, and emitter pins on your transistor. The pin ordering varies by type, so check the datasheet. I&#8217;d recommend you double check these two components before powering up.</p>
<p style="text-align: center;"><a href="http://www.susa.net/wordpress/wp-content/uploads/2012/06/DSCF4387_Medium.jpg"><img class="alignnone  wp-image-99" title="GPIO Relay circuit on breadboard" src="http://www.susa.net/wordpress/wp-content/uploads/2012/06/DSCF4387_Medium-300x239.jpg" alt="" width="438" height="349" /></a></p>
<p>The breadboard photo shows it wired up. The pin numbering on my IDC plug should be though of from <em>above</em> the connector, to make it correspond with the 26-pin header numbering. Blue is 5V, and brown is Ground. The green wire connects from GPIO 17 (pin 11 on the Raspi&#8217;s 26-pin header) to the transistor base via resistor R1.</p>
<p>You can test that the relay is working by disconnecting the wire from GPIO 17 (pin 11 of the 26-pin header) and touching it to 3V3 (pin 1). You should hear a click as you connect/disconnect 3V3. Make sure you keep the resistor in the circuit (e.g. don&#8217;t just take a wire from 3V3 to the transistor&#8217;s base pin).</p>
<p>Note that the circuit assumes the GPIO pin will be configured as an output. If it&#8217;s likely to also spend some time as an input, then a resistor (10K would do) between the base and ground would ensure the transistor is fully off, rather than having a floating voltage applied.</p>
<h2>Using the relay via the &#8216;/sys&#8217; filesystem</h2>
<p>Enable GPIO 17 access via the Kernel on path &#8216;/sys/class/gpio/&#8217;, and configure it as an output pin: &#8211;</p>
<pre>echo "17" &gt; /sys/class/gpio/export
echo "out" &gt; /sys/class/gpio/gpio17/direction</pre>
<p>View the current state of GPIO 17: &#8211;</p>
<pre>cat /sys/class/gpio/gpio17/value</pre>
<p>Set the state of GPIO 17 by writing &#8220;1&#8221; for high (relay on) and &#8220;0&#8221; for low (relay off): &#8211;</p>
<pre>echo "1" &gt; /sys/class/gpio/gpio17/value
echo "0" &gt; /sys/class/gpio/gpio17/value</pre>
<p>Finally, to use the C code instead, remove the pin from the control of the Kernel driver: &#8211;</p>
<pre>echo "17" &gt; /sys/class/gpio/unexport</pre>
<h2>The C Code Alternative</h2>
<p>The C source code below shows how to drive the relay using the GPIO peripheral&#8217;s hardware registers. It&#8217;s all in one file for simplicity and for clarity, though there&#8217;s not much to it.</p>
<p>The usleep(1) call has been used to create a short delay before reading the LEVn register to feed back the pin status. This is because the rise time for a GPIO pin (the time for the voltage on the pin to rise to a level that&#8217;s considered &#8216;high&#8217;) is around 100ns to 3V. The &#8216;high&#8217; threshold is probably less than half that, but even if it&#8217;s 30ns, that&#8217;s 21 ARM clock cycles at 700MHz, and is enough time to read the LEVn register before it has transitioned.</p>
<pre>/*
  * gpio_relay.c - example of driving a relay using the GPIO peripheral on a BCM2835 (Raspberry Pi)
  *
  * Copyright 2012 Kevin Sangeelee.
  * Released as GPLv2, see &lt;http://www.gnu.org/licenses/&gt;
  *
  * This is intended as an example of using Raspberry Pi hardware registers to drive a relay using GPIO. Use at your own
   * risk or not at all. As far as possible, I've omitted anything that doesn't relate to the Raspi registers. There are more
  * conventional ways of doing this using kernel drivers.
  */
#include &lt;stdio.h&gt;
#include &lt;fcntl.h&gt;
#include &lt;sys/mman.h&gt;

#define IOBASE   0x20000000

#define GPIO_BASE (IOBASE + 0x200000)

#define GPFSEL0    *(gpio.addr + 0)
#define GPFSEL1    *(gpio.addr + 1)
#define GPFSEL2    *(gpio.addr + 2)
#define GPFSEL3    *(gpio.addr + 3)
#define GPFSEL4    *(gpio.addr + 4)
#define GPFSEL5    *(gpio.addr + 5)
// Reserved @ word offset 6
#define GPSET0    *(gpio.addr + 7)
#define GPSET1    *(gpio.addr + 8)
// Reserved @ word offset 9
#define GPCLR0    *(gpio.addr + 10)
#define GPCLR1    *(gpio.addr + 11)
// Reserved @ word offset 12
#define GPLEV0    *(gpio.addr + 13)
#define GPLEV1    *(gpio.addr + 14)

#define BIT_17 (1 &lt;&lt; 17)

#define PAGESIZE 4096
#define BLOCK_SIZE 4096

struct bcm2835_peripheral {
    unsigned long addr_p;
    int mem_fd;
    void *map;
    volatile unsigned int *addr;
};

struct bcm2835_peripheral gpio = {GPIO_BASE};

// Some forward declarations...
int map_peripheral(struct bcm2835_peripheral *p);
void unmap_peripheral(struct bcm2835_peripheral *p);

int gpio_state = -1;

////////////////
//  main()
////////////////
int main(int argc, char *argv[]) {

    if(argc == 2) {
        if(!strcmp(argv[1], "on"))
            gpio_state = 1;
        if(!strcmp(argv[1], "off"))
            gpio_state = 0;
    }

    if(map_peripheral(&amp;gpio) == -1) {
        printf("Failed to map the physical GPIO registers into the virtual memory space.\n");
        return -1;
    }

    /* Set GPIO 17 as an output pin */
    GPFSEL1 &amp;= ~(7 &lt;&lt; 21); // Mask out bits 23-21 of GPFSEL1 (i.e. force to zero)
    GPFSEL1 |= (1 &lt;&lt; 21);  // Set bits 23-21 of GPFSEL1 to binary '001'

    if(gpio_state == 0)
        GPCLR0 = BIT_17;
    else if(gpio_state == 1)
        GPSET0 = BIT_17;

    usleep(1);    // Delay to allow any change in state to be reflected in the LEVn, register bit.

    printf("GPIO 17 is %s\n", (GPLEV0 &amp; BIT_17) ? "high" : "low");

    unmap_peripheral(&amp;gpio);

    // Done!
}

// Exposes the physical address defined in the passed structure using mmap on /dev/mem
int map_peripheral(struct bcm2835_peripheral *p)
{
   // Open /dev/mem
   if ((p-&gt;mem_fd = open("/dev/mem", O_RDWR|O_SYNC) ) &lt; 0) {
      printf("Failed to open /dev/mem, try checking permissions.\n");
      return -1;
   }

   p-&gt;map = mmap(
      NULL,
      BLOCK_SIZE,
      PROT_READ|PROT_WRITE,
      MAP_SHARED,
      p-&gt;mem_fd,  // File descriptor to physical memory virtual file '/dev/mem'
      p-&gt;addr_p      // Address in physical map that we want this memory block to expose
   );

   if (p-&gt;map == MAP_FAILED) {
        perror("mmap");
        return -1;
   }

   p-&gt;addr = (volatile unsigned int *)p-&gt;map;

   return 0;
}

void unmap_peripheral(struct bcm2835_peripheral *p) {

    munmap(p-&gt;map, BLOCK_SIZE);
    close(p-&gt;mem_fd);
}</pre>
<p>The code can be compiled and run with</p>
<pre>root@pi:~# gcc -o gpio_relay gpio_relay.c
root@pi:~# ./gpio_relay on
GPIO 17 is high
root@pi:~# ./gpio_relay off
GPIO 17 is low</pre>
<p>Note: there was an error in the original example code, where it was initialising GPFSEL0 rather than GPFSEL1. If the pin fails to go high, maybe you&#8217;ve got the original code.</p>
<h2>References</h2>
<ul>
<li><a href="http://www.element14.com/community/servlet/JiveServlet/previewBody/43016-102-1-231518/Broadcom.Datasheet.pdf">BCM2835 Datasheet</a> &#8211; abbreviated datasheet for Broadcom SoC.</li>
<li><a href="http://www.scribd.com/doc/91353537/GPIO-Pads-Control">BCM2835 Datasheet PADS Addendum</a> &#8211; additional registers to configure the GPIO  peripheral.</li>
<li><a href="http://elinux.org/RPi_Low-level_peripherals">RPi Low Level Peripherals</a> &#8211; wiki page that gives more details on GPIO (and more).</li>
<li><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-pcf8563-real-time-clock-rtc/">My I2C RTC Example</a> &#8211; Gives some info on using mmap() to access IO Peripherals, and has other references to Gert Van Loo&#8217;s work, among others.</li>
<li><a href="http://www.electronicsclub.info/relays.htm">Tutorial on Relays</a> &#8211; a good beginners tutorial on relays by The Electronics Club.</li>
<li><a href="http://www.electronicsclub.info/transistors.htm">Tutorial on Transistors</a> &#8211; a guide to transistors by The Electronics Club.</li>
</ul>
							</div><!-- .entry-content -->

		
		<footer class="entry-meta">
			<!-- Post end widget area -->
							<div class="post-end-widget-area">
									</div>
			

							<div class="entry-meta-term-single">
			
				<span class="entry-meta-categories"><span class="term-icon"><i class="fa fa-folder-open"></i></span> <a href="http://www.susa.net/wordpress/category/technical/" rel="tag">Technical Stuff</a>&nbsp;&nbsp;&nbsp;</span>

									<span class="entry-meta-tags"><span class="term-icon"><i class="fa fa-tags"></i></span> <a href="http://www.susa.net/wordpress/tag/electronics/" rel="tag">Electronics</a>, <a href="http://www.susa.net/wordpress/tag/hardware/" rel="tag">hardware</a>, <a href="http://www.susa.net/wordpress/tag/raspberry-pi/" rel="tag">raspberry pi</a>, <a href="http://www.susa.net/wordpress/tag/raspi/" rel="tag">raspi</a></span>
				
				<div style="float:right;"></div>
			</div><!-- .entry-meta-term -->

					</footer><!-- .entry-meta -->
	</article><!-- #post -->
				
                                
				<nav class="nav-single">
					<div class="wrapper-navigation-below">
						
	<nav class="navigation post-navigation" role="navigation">
		<h2 class="screen-reader-text">Post navigation</h2>
		<div class="nav-links"><div class="nav-previous"><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-pcf8563-real-time-clock-rtc/" rel="prev"><span class="meta-nav"><i class="fa fa-angle-double-left"></i></span> Raspberry Pi PCF8563 Real Time Clock (RTC)</a></div><div class="nav-next"><a href="http://www.susa.net/wordpress/2012/07/raspberry-pi-gpfsel-gpio-and-pads-status-viewer/" rel="next">Raspberry Pi GPFSEL, GPIO, and PADS Status Viewer <span class="meta-nav"><i class="fa fa-angle-double-right"></i></span></a></div></div>
	</nav>					</div><!-- .wrapper-navigation-below -->
				</nav><!-- .nav-single -->
                
                
				
<div id="comments" class="comments-area">
	
		
			<h2 class="comments-title">
			141 thoughts on &ldquo;<span>Raspberry Pi &#8211; Driving a Relay using GPIO</span>&rdquo;		</h2>

		<ol class="commentlist">
				<li class="comment even thread-even depth-1" id="li-comment-61">
		<article id="comment-61" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/463e839c36d7c09ec636f80ea2758155?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn"><a href='http://phil.lavin.me.uk/' rel='external nofollow' class='url'>Phil Lavin</a></b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-61"><time datetime="2012-06-29T08:03:40+00:00">June 29, 2012 at 8:03 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great post. Knocked one of these up last night &#8211; works a treat. I was impatient and only had Maplin to hand so I used N18AW relay, a cheap diode, a cheap 1.2Kohm resistor and a 2N3904 transistor. Was just over £3 in total. All mounted on some stripboard.</p>
<p>Plan to make a Raspi controlled beer o&#8217;clock alarm for the office :D</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=61#respond' onclick='return addComment.moveForm( "comment-61", "61", "respond", "83" )' aria-label='Reply to Phil Lavin'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-73">
		<article id="comment-73" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-73"><time datetime="2012-07-03T18:58:08+00:00">July 3, 2012 at 6:58 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Ah yes, the noble aims of the Raspberry Pi Foundation celebrated with such enthusiasm :)</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=73#respond' onclick='return addComment.moveForm( "comment-73", "73", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-3" id="li-comment-3751">
		<article id="comment-3751" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/495a481ed87d19c324cc5a85d4659d1a?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Derek Mesure</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-3751"><time datetime="2013-01-06T09:26:02+00:00">January 6, 2013 at 9:26 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>As a complete beginner on the Pi , I have looked at this as a way of controlling the remote for a radio controlled car.  I would need to use four relays :  forward, back, turn right and turn left. Will I have a problem if I create four circuits like yours given that I will need to switch two relays on at the same time? Will this drain too much current form the Pi?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=3751#respond' onclick='return addComment.moveForm( "comment-3751", "3751", "respond", "83" )' aria-label='Reply to Derek Mesure'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-4" id="li-comment-3755">
		<article id="comment-3755" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-3755"><time datetime="2013-01-06T12:25:28+00:00">January 6, 2013 at 12:25 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>No, not from the Pi, since current from the Pi is only used to drive the transistors. It may, however, drain too much current from the Pi&#8217;s power supply, and that depends on how much spare power your supply can deliver.</p>
<p>Regardless, you might consider using reed-relays for this instead &#8211; they&#8217;re typically much lighter, with contacts designed for low currents, and therefore require less power to switch.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=3755#respond' onclick='return addComment.moveForm( "comment-3755", "3755", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-84">
		<article id="comment-84" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/56cc1f2142bad1b344c5b25d6f30c5d1?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">mike</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-84"><time datetime="2012-07-09T01:52:50+00:00">July 9, 2012 at 1:52 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>What&#8217;s the diode you used?<br />
Great post, thanks</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=84#respond' onclick='return addComment.moveForm( "comment-84", "84", "respond", "83" )' aria-label='Reply to mike'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-85">
		<article id="comment-85" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-85"><time datetime="2012-07-09T11:57:23+00:00">July 9, 2012 at 11:57 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>The diode happened to be a 1N4004, but most diodes would do (voltage and current conducted aren&#8217;t high when a 5V coil&#8217;s field collapses). I just used what was handy at the time.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=85#respond' onclick='return addComment.moveForm( "comment-85", "85", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-131">
		<article id="comment-131" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/7bed4a581a0be3b54a011b9be884def5?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn"><a href='http://x-volt.com' rel='external nofollow' class='url'>Simon C</a></b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-131"><time datetime="2012-07-28T22:56:41+00:00">July 28, 2012 at 10:56 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Loved this post, I am making a build notification tool (lava lamp &amp; buzzer alertion system ;)</p>
<p>The parts I used to build this, I got from Maplin:</p>
<p>QR40T &#8211; 2N3904 transistor<br />
RP68Y &#8211; 6V 10A PCB Relay<br />
QL76H &#8211; 1N4004S diode<br />
M1K2 &#8211; 1K2 Metal Film 0.6W Resistor</p>
<p>Hope this helps anyone else :)</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=131#respond' onclick='return addComment.moveForm( "comment-131", "131", "respond", "83" )' aria-label='Reply to Simon C'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-274">
		<article id="comment-274" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/e82837d28e786fcd5cd30285009794a1?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Steve White</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-274"><time datetime="2012-08-19T10:46:11+00:00">August 19, 2012 at 10:46 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great post.</p>
<p>Thanks to Simon C for the exact parts details.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=274#respond' onclick='return addComment.moveForm( "comment-274", "274", "respond", "83" )' aria-label='Reply to Steve White'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-429">
		<article id="comment-429" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/05101590e023b4c1c405889e32fbfafa?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Mike Kelly</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-429"><time datetime="2012-09-08T22:19:20+00:00">September 8, 2012 at 10:19 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Relay modules for Arduino coat about $1 per relay on eBay, they look like they will do the job. You can get from 1 to 16 relays. Google for &#8220;Relay Module Switch Board For Arduino&#8221;</p>
<p>Mike</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=429#respond' onclick='return addComment.moveForm( "comment-429", "429", "respond", "83" )' aria-label='Reply to Mike Kelly'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-974">
		<article id="comment-974" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-974"><time datetime="2012-09-23T23:59:58+00:00">September 23, 2012 at 11:59 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks Mike &#8211; yes, it&#8217;s worth pointing out that if you just need relay control and aren&#8217;t interested in learning how to do the electronics stuff yourself, then there are numerous cheap options available &#8211; in fact, any board that accepts 3.3V as a &#8216;high&#8217; signal will work directly with the Raspberry Pi&#8217;s GPIO outputs. The power requirement of the relay coils would need to be known, and a separate power source provided if they exceed, in total, the power available from the Pi.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=974#respond' onclick='return addComment.moveForm( "comment-974", "974", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even depth-2" id="li-comment-13891">
		<article id="comment-13891" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/608d9cfe8eb1323a4491ad93555ce135?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Michele Roncalli</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-13891"><time datetime="2013-04-26T11:03:06+00:00">April 26, 2013 at 11:03 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Every &#8220;Relay Module Switch Board For Arduino&#8221; I am able to find on ebay says &#8220;5v&#8221;. But the output from rpi GPIO digital output port is only 3.3V, right? Is it enough to activate/control the relay?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=13891#respond' onclick='return addComment.moveForm( "comment-13891", "13891", "respond", "83" )' aria-label='Reply to Michele Roncalli'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-3" id="li-comment-13910">
		<article id="comment-13910" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-13910"><time datetime="2013-04-26T15:44:07+00:00">April 26, 2013 at 3:44 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I expect that the board&#8217;s input pin will accept 3.3V as &#8216;high/on&#8217;. The relay itself will most probably still need a 5V supply, the Raspberry Pi should be able to provide this if your 5V supply can deliver the 100mA or so that a relay might draw.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=13910#respond' onclick='return addComment.moveForm( "comment-13910", "13910", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-4" id="li-comment-13976">
		<article id="comment-13976" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/608d9cfe8eb1323a4491ad93555ce135?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Michele Roncalli</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-13976"><time datetime="2013-04-27T09:11:28+00:00">April 27, 2013 at 9:11 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you very much Kevin.</p>
<p>So far I have found:<br />
[5V-2-Channel-Relay-Module-Board-Shield-With-optocoup-For-Arduino-PIC-MCU]<br />
I read that every relay need 15-20mA driver current at 5V.<br />
Thus the real limit on the number of relays to be activated at the same time is that the total current is less or equal the current that the rpi is able to output at 5V.<br />
Do you know how much is it?</p>
<p>Latching relays like this one:<br />
<a href="http://www.ebay.co.uk/itm/Latching-Bistable-Relay-Board-5V-AVR-PIC-Arduino-from-EU-/180912202423?pt=LH_DefaultDomain_0&#038;hash=item2a1f3522b7" rel="nofollow">http://www.ebay.co.uk/itm/Latching-Bistable-Relay-Board-5V-AVR-PIC-Arduino-from-EU-/180912202423?pt=LH_DefaultDomain_0&#038;hash=item2a1f3522b7</a><br />
apart from the higher price, can be used with a rpi aswell?</p>
<p>Thank you! This post is bookmarked and will be so useful for me.<br />
Michele</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=13976#respond' onclick='return addComment.moveForm( "comment-13976", "13976", "respond", "83" )' aria-label='Reply to Michele Roncalli'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-5" id="li-comment-14425">
		<article id="comment-14425" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-14425"><time datetime="2013-05-01T20:49:11+00:00">May 1, 2013 at 8:49 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi, the relay on the board you mentioned on eBay has a nominal coil current of 70mA (see <a href="http://www.songle.com/en/pdf/20084141716341001.pdf" rel="nofollow">http://www.songle.com/en/pdf/20084141716341001.pdf</a>), two of which could draw twice that. In fact, there is usually a surge of current, and then the holding current is a bit lower, but nowhere as low as ~10mA per relay. I removed the link to avoid anyone else being misled.</p>
<p>That said, it would still work fine with the Raspberry Pi &#8211; there are countless 5V relay boards available on eBay etc, but I&#8217;d recommend you find a seller who at least knows what they&#8217;re selling.</p>
<p>A latching relay is a good way to minimise power consumption &#8211; the one you linked to should work with the Raspberry Pi, it may even be possible to drive S and R directly from 3V3 the GPIO, but you&#8217;d need to check the docs to be sure.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=14425#respond' onclick='return addComment.moveForm( "comment-14425", "14425", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-518">
		<article id="comment-518" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/07d8b80fb4a30462d13205e6647b05fd?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Michele</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-518"><time datetime="2012-09-12T20:36:17+00:00">September 12, 2012 at 8:36 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi!<br />
Nice word&#8230;<br />
Just a quick question&#8230;<br />
Is there a way to check the status of the gpio line using C language?<br />
I&#8217;m a total noob in C (but a great programmer in Delphi/Lazarus :P)</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=518#respond' onclick='return addComment.moveForm( "comment-518", "518", "respond", "83" )' aria-label='Reply to Michele'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-519">
		<article id="comment-519" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-519"><time datetime="2012-09-12T20:39:49+00:00">September 12, 2012 at 8:39 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Yes, you just need to read the LEVn registers (see datasheet) to get the actual level on the pin. See another post I wrote here (<a href="http://www.susa.net/wordpress/2012/07/raspberry-pi-gpfsel-gpio-and-pads-status-viewer/" rel="nofollow">http://www.susa.net/wordpress/2012/07/raspberry-pi-gpfsel-gpio-and-pads-status-viewer/</a>) for an example &#8211; you can either compile and run from the shell, or use it as an example to incorporate into your own code.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=519#respond' onclick='return addComment.moveForm( "comment-519", "519", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1024">
		<article id="comment-1024" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/084203531fa08faec7ccdb46687e3445?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Adrian</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-1024"><time datetime="2012-09-28T17:52:58+00:00">September 28, 2012 at 5:52 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I&#8217;m wondering if all this will work with a darlington array, such as uln2803 (which is basically the same thing, in an IC)</p>
<p>it&#8217;s a bit of a risk to see if the uln2803 will work at 3.3V though.. we&#8217;ll see :P</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=1024#respond' onclick='return addComment.moveForm( "comment-1024", "1024", "respond", "83" )' aria-label='Reply to Adrian'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-1025">
		<article id="comment-1025" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-1025"><time datetime="2012-09-28T18:05:01+00:00">September 28, 2012 at 6:05 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I&#8217;ve not used that chip, but a darlington array should be ok, and would reduce the current requirement from the GPIO pins. Regardless, they can provide enough current to drive most general purpose transistors for switching relay coils.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=1025#respond' onclick='return addComment.moveForm( "comment-1025", "1025", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-3" id="li-comment-1465">
		<article id="comment-1465" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/084203531fa08faec7ccdb46687e3445?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Adrian</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-1465"><time datetime="2012-10-22T18:14:16+00:00">October 22, 2012 at 6:14 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Just to let you guys know, the ULN2308 IC arrived, it works perfectly :D</p>
<p>8 relays with one IC, not bad.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=1465#respond' onclick='return addComment.moveForm( "comment-1465", "1465", "respond", "83" )' aria-label='Reply to Adrian'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-4" id="li-comment-1466">
		<article id="comment-1466" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-1466"><time datetime="2012-10-22T18:50:47+00:00">October 22, 2012 at 6:50 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Good news. As you&#8217;ll be aware, you can drive motors and coils directly from the IC, without even the need of a relay, but bear in mind that a line-driver will only switch DC loads.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=1466#respond' onclick='return addComment.moveForm( "comment-1466", "1466", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-5" id="li-comment-1610">
		<article id="comment-1610" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/084203531fa08faec7ccdb46687e3445?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Adrian</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-1610"><time datetime="2012-10-29T12:44:48+00:00">October 29, 2012 at 12:44 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>yes, I&#8217;m planning to use the relays on home appliances and lighting (AC, obviously), so they are necessary. DC stuff (LEDs, motors, etc) already work nicely, and at whatever voltage i choose to input to the IC</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=1610#respond' onclick='return addComment.moveForm( "comment-1610", "1610", "respond", "83" )' aria-label='Reply to Adrian'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1039">
		<article id="comment-1039" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/44ee73adf6a7242b1162d0d749590a37?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Richard Stent</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-1039"><time datetime="2012-09-30T03:46:15+00:00">September 30, 2012 at 3:46 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi Kevin<br />
I am attempting to use my Pi and this circuit to switch a garage door opener (GDO) with a 30V DC coil relay. The GDO provides a Common (ground) and Relay (30V) connectors which when connected trigger the AC motor to open the door. When I connect this/your circuit but provide 30V from the Relay (instead of 5V from the Pi) it does not want to work. I have also tried a test of a 12V and no luck.  I have been using a SY-4080 SS Relay as a test relay (before connecting to the GDO) as it accepts 3V-32VDC &#8211; but will only trigger when I supply 5V.<br />
 Your advise please.</p>
<p>Richard.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=1039#respond' onclick='return addComment.moveForm( "comment-1039", "1039", "respond", "83" )' aria-label='Reply to Richard Stent'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-1040">
		<article id="comment-1040" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-1040"><time datetime="2012-09-30T10:22:16+00:00">September 30, 2012 at 10:22 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi Richard,</p>
<p>I don&#8217;t want to give advice on switching mains level voltages, but in terms of energising a DC coil as per the post, you need to ensure that your transistor can switch the load required of the coil (given either as ohms, mW, or mA &#8211; convert between them using Ohm&#8217;s Law). Also, the C-E voltage rating must be greater than the requirement of your coil.</p>
<p>Also, your DC power-supply grounds must be connected. If you have a 40V DC supply to energise a 30V DC coil, then the ground of this supply would need to be connected to the ground of the Raspberry Pi&#8217;s supply.</p>
<p><strong>However</strong>, I suspect that you&#8217;ve confused the <strong>contact rating</strong> (the switch) with the <strong>coil rating</strong> (the bit that flicks the switch) &#8211; a 30V DC coil would be very unusual, whereas 30V DC contact rating would be very common. A mistake or misunderstanding on this, when using mains AC voltage, could easily kill your Raspberry Pi (and quite possibly even yourself).</p>
<p>I&#8217;d recommend you find a 12V DC power-supply, buy a relay with a 12V coil, and make that audibly click before moving on to anything else (and certainly before trying to control any domestic mains circuits).</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=1040#respond' onclick='return addComment.moveForm( "comment-1040", "1040", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment odd alt depth-3" id="li-comment-1055">
		<article id="comment-1055" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/44ee73adf6a7242b1162d0d749590a37?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Richard Stent</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-1055"><time datetime="2012-10-01T09:41:42+00:00">October 1, 2012 at 9:41 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi Kevin</p>
<p>Thanks for your reply. Yes, I would think that I am trying to connect to (switch on) a 30V DC &#8216;contact&#8217; as it is currently activating the relay/switch (inside the GDO) when the common and relay are briefly touched. I measured the voltage and current across the contacts (using a multimeter) and is it reads 30VDC and draws 76mA.</p>
<p>I now believe I need a mechanical relay that has a 5V coil (powered from the Pi and energized with the BC337 NPN transistor) that will allow me to switch this 30V DC contact load briefly (via GPIO on/off commands from my Pi program).</p>
<p>Rest assured I am going no where near any AC mains level voltages. All that is contained inside the GDO.</p>
<p>Thanks for your help. I am learning lots &#8230; but feel free to comment if I still don&#8217;t seem to get it. :-)  Your site is very enlightening.</p>
<p>Richard.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=1055#respond' onclick='return addComment.moveForm( "comment-1055", "1055", "respond", "83" )' aria-label='Reply to Richard Stent'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor even depth-4" id="li-comment-1057">
		<article id="comment-1057" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-1057"><time datetime="2012-10-01T12:45:20+00:00">October 1, 2012 at 12:45 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>If I understand correctly, connecting &#8216;relay&#8217; (R) and &#8216;common&#8217; (C) results in an internal relay energising. The voltage across R->C is 30V, and the current through R->C is 76mA. If so, then connecting R to the transistor&#8217;s collector, C to the emitter <em>and</em> to the Raspberry Pi&#8217;s Ground should be enough to drive the internal relay coil.</p>
<p>I&#8217;d try it first without the Raspberry Pi &#8211; just find a 3V3 or 5V supply, connect a resistor to the transistor&#8217;s base and then connect the other leg of the resistor alternately between +ve and ground of your supply. Don&#8217;t forget to join your &#8216;common&#8217; and ground too. You&#8217;re essentially doing what the GPIO pin does when it goes high and low, so if it works, then it should work fine with the Pi.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=1057#respond' onclick='return addComment.moveForm( "comment-1057", "1057", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment odd alt depth-5" id="li-comment-1272">
		<article id="comment-1272" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/44ee73adf6a7242b1162d0d749590a37?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Richard Stent</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-1272"><time datetime="2012-10-15T04:07:37+00:00">October 15, 2012 at 4:07 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi Kevin</p>
<p>Yes, it is working now using the Pi and the (R) and (C) connections as you advised. Thanks for your help. Regards Richard.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=1272#respond' onclick='return addComment.moveForm( "comment-1272", "1272", "respond", "83" )' aria-label='Reply to Richard Stent'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1195">
		<article id="comment-1195" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/44ee73adf6a7242b1162d0d749590a37?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">richard</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-1195"><time datetime="2012-10-09T10:19:51+00:00">October 9, 2012 at 10:19 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi Kevin</p>
<p>Yes, that is my way forward. Away on a ski holiday at present so apologies for the delayed reply. Will let you know how I get on in a week or so.</p>
<p>Richard</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=1195#respond' onclick='return addComment.moveForm( "comment-1195", "1195", "respond", "83" )' aria-label='Reply to richard'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1383">
		<article id="comment-1383" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/b39c9d60db5716302a5975538eee727d?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Bos</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-1383"><time datetime="2012-10-18T19:20:57+00:00">October 18, 2012 at 7:20 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi,<br />
I&#8217;m a total noob, sorry if this is a stupid question, but:<br />
why is the transistor required? Can&#8217;t you just switch a (3V) relay with the 3.3V output from the GPIO pin?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=1383#respond' onclick='return addComment.moveForm( "comment-1383", "1383", "respond", "83" )' aria-label='Reply to Bos'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-1388">
		<article id="comment-1388" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-1388"><time datetime="2012-10-18T20:29:33+00:00">October 18, 2012 at 8:29 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>It&#8217;s a perfectly reasonable question &#8211; the answer is that you <em>can</em> drive directly from a GPIO pin if you can find a relay that will energise with the current that the GPIO pins can supply (e.g. a lot less than 25mA). Most small relays require between 50mA to 150mA to energise.</p>
<p>The transistor conducts a relatively large current when a relatively small current is applied to the base pin &#8211; small enough to be driven by a GPIO pin on the Raspberry Pi, which is why the transistor is required.</p>
<p>You might find a reed-relay that can energise with a low enough current, but then the contact rating will be much lower.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=1388#respond' onclick='return addComment.moveForm( "comment-1388", "1388", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-1710">
		<article id="comment-1710" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/6758616d975ea8a3727b27fba95fcfc1?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">David</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-1710"><time datetime="2012-11-03T06:21:26+00:00">November 3, 2012 at 6:21 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great outline, thank you.  Can you explain or (give some overview?) how one would customize this for each GPIOx.  As best I can tell there can be 17 to 21+ GPIO&#8217;s available in the new 2.0 512M boards.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=1710#respond' onclick='return addComment.moveForm( "comment-1710", "1710", "respond", "83" )' aria-label='Reply to David'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-1717">
		<article id="comment-1717" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-1717"><time datetime="2012-11-03T15:05:04+00:00">November 3, 2012 at 3:05 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>More of the same really. For the C code, it&#8217;s just a matter of setting the appropriate GPFSELn bits to &#8216;001&#8217; (so the corresponding pin functions as an output), and using GPSETn and GPCLRn bits to set and clear the bits that relate to the pins you want to control.</p>
<p>The Bash approach makes it even more obvious &#8211; just replace 17 with the GPIO that you want to control. As long as you know which physical pin on the Pi is connected to the GPIO you&#8217;re using, then you should be able to control it. You might try connecting the transistor to a different pin, then you&#8217;ll understand what&#8217;s required.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=1717#respond' onclick='return addComment.moveForm( "comment-1717", "1717", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment odd alt depth-3" id="li-comment-2597">
		<article id="comment-2597" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/ded4ea3041d3cd722bab3ce072309396?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Vinod</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-2597"><time datetime="2012-12-07T09:38:19+00:00">December 7, 2012 at 9:38 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks for this post Kevin ( most detailed one  I saw on this topic anywhere online). I plan to try out switching a simple led with a 5v relay before moving on to switching on AC circuits at home, over the next couple of weeks.<br />
Can all the pins on the RPi be used &#8211; 17-21 like David says above? Most forums seem to indicate that only 5 odd are GPIO pins, others are I2C, PWM and other types ( I have yet to understand what these are).<br />
In short, it would be awesome if you can post a detailed tutorial like this one on driving a 16 channel 5V 10A relays using the RPi &#8211; something like <a href="http://www.youtube.com/watch?v=8X6PgYaegz0" rel="nofollow">http://www.youtube.com/watch?v=8X6PgYaegz0</a> .</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=2597#respond' onclick='return addComment.moveForm( "comment-2597", "2597", "respond", "83" )' aria-label='Reply to Vinod'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor even depth-4" id="li-comment-2603">
		<article id="comment-2603" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-2603"><time datetime="2012-12-07T11:17:25+00:00">December 7, 2012 at 11:17 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi Vinod, most of the pins on the P1 header can be used for GPIO (some on other headers can be used too). The GPIO function select registers determine what peripherals (I2C, SPI, PWM, etc.) are is connected to (is active on) a pin. For our application, we configure the required pin as a GPIO Output. I believe that the default state for any pin, other than the UART, is GPIO Input. Certain kernel drivers will reconfigure pins if loaded, and if so you might need to prevent them loading (e.g. blacklist them).</p>
<p>As a starting point, read the datasheet to understand how the function-select bits work for each pin. The I2C and SPI peripherals are just for serial communications, PWM (Pulse Width Modulation) peripherals generate high/low pulses of a specified width, and at a specified frequency &#8211; commonly used to generate a variable average voltage or to drive servos.</p>
<p>A 16 channel driver is really just more of the same as what&#8217;s here (and written elsewhere), so it&#8217;s more of an &#8216;exercise for the reader&#8217; ;-) Between the datasheet, the schematic and the code, all the information you need is there to extend this. An enhancement might be a darlington array chip to provide multiple high-gain transistors in a single package &#8211; neater than 16 x 3-pin transistors. The power supply would, of course, need to be capable of energising 16 relays simultaneously, unless you take steps in software to stagger them.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=2603#respond' onclick='return addComment.moveForm( "comment-2603", "2603", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment odd alt depth-5" id="li-comment-2614">
		<article id="comment-2614" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/ded4ea3041d3cd722bab3ce072309396?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Vinod</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-2614"><time datetime="2012-12-07T17:28:15+00:00">December 7, 2012 at 5:28 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks for the detailed reply Kevin &#8211; was most useful, and helped me be a little more confident as I wired up a led today ( without worrying about using/messing up a wrong pin).<br />
I got the led on/off via GPIO working today, and thanks to webiopi, through a web interface &#8211; in about 30 minutes flat.<br />
Wrote about it at <a href="http://saranga2000.wordpress.com/2012/12/07/raspberry-pi-hello-gpio/" rel="nofollow">http://saranga2000.wordpress.com/2012/12/07/raspberry-pi-hello-gpio/</a><br />
&#8211; only as a thankyou to all the Giants (including you) on whose shoulders I stood today.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=2614#respond' onclick='return addComment.moveForm( "comment-2614", "2614", "respond", "83" )' aria-label='Reply to Vinod'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-1726">
		<article id="comment-1726" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/6758616d975ea8a3727b27fba95fcfc1?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">David</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-1726"><time datetime="2012-11-04T10:33:39+00:00">November 4, 2012 at 10:33 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>With respect to the C code above would it be possible to alter the code to take a variable input into the command line, for example so that is might work like ./gpio_relay 17 on  ie ./gpio_relay x on where x is the particular pin being controlled?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=1726#respond' onclick='return addComment.moveForm( "comment-1726", "1726", "respond", "83" )' aria-label='Reply to David'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-1728">
		<article id="comment-1728" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-1728"><time datetime="2012-11-04T11:17:46+00:00">November 4, 2012 at 11:17 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi David, yes it&#8217;s easy to get at parameters from the command line &#8211; define main with &#8216;int argc&#8217; and &#8216;char *argv[]&#8217; parameters (for reference, the RTC post has source-code that uses these), which contain the &#8216;count&#8217; and &#8216;values&#8217; of parameters respectively. You can use the printf() function to display the parameters if you want to experiment a bit.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=1728#respond' onclick='return addComment.moveForm( "comment-1728", "1728", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="pingback even thread-even depth-1" id="comment-1822">
		<p>Pingback: <a href='http://lcdev.dk/2012/11/07/getting-started-with-my-raspberry-pi-part-1-blog-post-survey/' rel='external nofollow' class='url'>Getting Started with My Raspberry Pi &#8211; Part 1: Blog Post Survey | Lasse Christiansen Development</a> </p>
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-2600">
		<article id="comment-2600" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/036a1c0cd16cbd65ae717af58ab3f63b?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn"><a href='http://www.recantha.co.uk/blog' rel='external nofollow' class='url'>Michael Horne</a></b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-2600"><time datetime="2012-12-07T10:49:30+00:00">December 7, 2012 at 10:49 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great post for beginners like me. Thanks :-)</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=2600#respond' onclick='return addComment.moveForm( "comment-2600", "2600", "respond", "83" )' aria-label='Reply to Michael Horne'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-2830">
		<article id="comment-2830" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/ded4ea3041d3cd722bab3ce072309396?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Vinod</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-2830"><time datetime="2012-12-12T14:51:20+00:00">December 12, 2012 at 2:51 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi Kevin, Ive been trying to get a circuit like above ( controlling a relay with the GPIO) to work. I wired up the exact same circuit but with different parts ( using what I had with me). I used<br />
1. BC547B transistor<br />
2. 1N4007 diode<br />
3. a local relay I got in a kit &#8211; that seems to indicate its a 6v relay ( pic attached).</p>
<p>Circuit and Relay spec pics are here:<br />
<a href="http://kannvin.freeshell.net/wiki/doku.php?id=personal:journal:2012-12-12-144621" rel="nofollow">http://kannvin.freeshell.net/wiki/doku.php?id=personal:journal:2012-12-12-144621</a></p>
<p>I don&#8217;t get the clicking sound with the base connected through a 1K ohm resistor to the 3.3V pin.</p>
<p>I did some debugging and saw that:<br />
1. I am able to light up a LED through the same circuit, removing the diode, and passing the 5v through a 470ohm resistor through led<br />
2. the relay itself is working &#8211; i get a clicking sound if I connect the 5v pin and ground directly to the leads of the relay.</p>
<p>What am I doing wrong &#8211; the only thing I can think of is the BC547B is not able to power up sufficiently to turn on the 6V relay. Is this it? Or am I doing something else wrong? If former, what should I do different to drive the relay.<br />
Please help.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=2830#respond' onclick='return addComment.moveForm( "comment-2830", "2830", "respond", "83" )' aria-label='Reply to Vinod'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-2832">
		<article id="comment-2832" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-2832"><time datetime="2012-12-12T15:00:49+00:00">December 12, 2012 at 3:00 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>You can try using a lower value resistor to the base, to make sure that the transistor is reaching saturation &#8211; you could use your 470R instead. You might also try a another transistor, since the actual gain varies wildly, even among transistors of the same type.</p>
<p>Note your link returns &#8216;permission denied&#8217;.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=2832#respond' onclick='return addComment.moveForm( "comment-2832", "2832", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-2840">
		<article id="comment-2840" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/ded4ea3041d3cd722bab3ce072309396?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Vinod</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-2840"><time datetime="2012-12-12T16:09:35+00:00">December 12, 2012 at 4:09 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I just figured out what the problem was &#8211; I had the Emitter and Collector swapped.<br />
It works now. Although interestingly I was able to light up an LED even with the E &amp; C swapped.<br />
The relay spec and circuit should now be accessible at <a href="http://kannvin.freeshell.net/wiki/doku.php?id=projects:rpi" rel="nofollow">http://kannvin.freeshell.net/wiki/doku.php?id=projects:rpi</a> .<br />
Thanks for your prompt help Kevin.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=2840#respond' onclick='return addComment.moveForm( "comment-2840", "2840", "respond", "83" )' aria-label='Reply to Vinod'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-2844">
		<article id="comment-2844" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-2844"><time datetime="2012-12-12T17:18:53+00:00">December 12, 2012 at 5:18 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>There&#8217;s a symmetry in an NPN transistor, but not a perfect symmetry. So it will work similarly when connected in reverse like you did, just not so well (hence a small current flows, enough to drive an LED but not enough to drive a relay). A higher current through the base may actually drive it to saturation. To understand more you need to read about doping of diodes, and consider that a bipolar transistor is made from two diodes &#8211; there are plenty of sources on the net that will explain the details better than I could.</p>
<p>Glad you figured it out.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=2844#respond' onclick='return addComment.moveForm( "comment-2844", "2844", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-3069">
		<article id="comment-3069" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/2b3239f04deb8ce5c4d9216d78f16569?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">scott</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-3069"><time datetime="2012-12-19T23:59:04+00:00">December 19, 2012 at 11:59 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks for posting this! Great place to start for a noob like me.  Can you please explain the purpose of the diode in this configuration?  Would the diode still be required if a darlington array were used?</p>
<p>Cheers!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=3069#respond' onclick='return addComment.moveForm( "comment-3069", "3069", "respond", "83" )' aria-label='Reply to scott'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-3070">
		<article id="comment-3070" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-3070"><time datetime="2012-12-20T00:06:38+00:00">December 20, 2012 at 12:06 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This is nicely explained in the &#8220;Tutorial on Relays&#8221; (linked in the References) &#8211; &#8220;Current flowing through a relay coil creates a magnetic field which collapses suddenly when the current is switched off. The sudden collapse of the magnetic field induces a brief high voltage across the relay coil which is very likely to damage transistors and ICs. The protection diode allows the induced voltage to drive a brief current through the coil (and diode) so the magnetic field dies away quickly rather than instantly. This prevents the induced voltage becoming high enough to cause damage to transistors and ICs.&#8221;</p>
<p>It&#8217;s still required for a darlington pair, because there&#8217;s still a transistor driving the relay&#8217;s coil.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=3070#respond' onclick='return addComment.moveForm( "comment-3070", "3070", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-3120">
		<article id="comment-3120" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/d10a6ad1e0e88c9902ae76fe0021e072?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Ade</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-3120"><time datetime="2012-12-21T16:30:00+00:00">December 21, 2012 at 4:30 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi,</p>
<p>Some very useful information in here which is appreciated.<br />
It doesn&#8217;t however quite answer a problem I have. I have a manual shutter release which I made for my Canon 1000D camera. Plenty of examples on the net on how to do this. What I want to do now is use my Pi to trigger the camera rather than a manual button.<br />
I&#8217;m sure this should be straight forward but i&#8217;m worried about power. The current manual system doesn&#8217;t provide any power to the camera, if I hook up a transistor in place of the manual switch and set gpio pin &#8216;x&#8217; to high would i be sending power through the transistor to the camera? Hope that makes sense !<br />
Thank you.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=3120#respond' onclick='return addComment.moveForm( "comment-3120", "3120", "respond", "83" )' aria-label='Reply to Ade'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-3123">
		<article id="comment-3123" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-3123"><time datetime="2012-12-21T19:41:08+00:00">December 21, 2012 at 7:41 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>When the GPIO is high, current would flow from the GPIO pin through the transistor base-emitter to ground. If saturated, then the collector is effectively connected to ground, and the current will flow from some point in the camera (e.g. via your manual switch) to ground. So you&#8217;re not feeding the camera from the Raspberry Pi (though their grounds will need to be connected).</p>
<p>You should be able to automate this with either an NPN or a PNP transistor, depending on whether the camera&#8217;s input is normally high and pulled low to activate (NPN) or normally low and pulled high to activate (PNP). You&#8217;d really need to figure this out based on what you can learn about your camera.</p>
<p>Alternatively, if the manual shutter release is simply a momentary push-button, then perhaps a relay might be more an equivalent solution. You could substitute (or augment) the existing switch without needing to concern yourself about the switch circuit in the camera. A reed-relay is small and will consume very little power.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=3123#respond' onclick='return addComment.moveForm( "comment-3123", "3123", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-3" id="li-comment-3140">
		<article id="comment-3140" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/d10a6ad1e0e88c9902ae76fe0021e072?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Ade</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-3140"><time datetime="2012-12-22T13:39:49+00:00">December 22, 2012 at 1:39 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Kevin,</p>
<p>Many thanks for your rapid response, I&#8217;ll work out which transistor type I will need, PNP or NPN. I understand that the GPIO will feed 3.3v, is that correct? How do I work out what rating of transistor I would need, possibly even a resistor in there before the transistor. Your help is much appreciated.</p>
<p>Thank You.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=3140#respond' onclick='return addComment.moveForm( "comment-3140", "3140", "respond", "83" )' aria-label='Reply to Ade'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-4" id="li-comment-3152">
		<article id="comment-3152" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-3152"><time datetime="2012-12-22T19:47:41+00:00">December 22, 2012 at 7:47 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Yes, the GPIO will provide 3.3V. I think any common transistor would do for your purpose, since it&#8217;s probably switching a tiny load. See the references for a good explanation of transistors to learn how to figure out the resistor value. The central variables are the load that&#8217;s driven by the transistor, and the gain (Hfe) of the transistor.</p>
<p>You might start by measuring the voltage from each pin on your manual switch to ground. Also measure the voltage across the switch pins. Make a note of these with the switch both open and closed. You could also measure the current through the switch (your multimeter will effectively be closing the switch when you touch the probes across the pins).</p>
<p>However, if your project is more about getting something working than about learning the electronics, then I&#8217;d recommend you use a relay instead &#8211; it&#8217;s much simpler to figure out.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=3152#respond' onclick='return addComment.moveForm( "comment-3152", "3152", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-3154">
		<article id="comment-3154" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/d10a6ad1e0e88c9902ae76fe0021e072?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Ade</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-3154"><time datetime="2012-12-22T22:31:00+00:00">December 22, 2012 at 10:31 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Many thanks again, I do have a desire to learn as much as possible. I&#8217;m impressed by your responses, very sincere and useful, for which i thank you. I will endeavor to complete my project and forward the result. Again, many thanks &#8211; I am impressed and thankful.</p>
<p>Adrian.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=3154#respond' onclick='return addComment.moveForm( "comment-3154", "3154", "respond", "83" )' aria-label='Reply to Ade'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3222">
		<article id="comment-3222" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/71185705a7bfccb772427b3ae9f1ba71?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn"><a href='http://www.huubknops.com' rel='external nofollow' class='url'>Huub Knops</a></b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-3222"><time datetime="2012-12-25T11:13:56+00:00">December 25, 2012 at 11:13 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi Kevin,</p>
<p>Thanks for your article, it inspired me to write a little bit of php code to be used to switch on and off things. Check out the live version at <a href="http://pi.huubknops.com/gpio/rpi_gpio.php" rel="nofollow">http://pi.huubknops.com/gpio/rpi_gpio.php</a>  Once you switch something on/off you have to go back and press F5 to see the difference.</p>
<p>Code downloadable from: <a href="http://www.huubknops.com/rpi-gpio/gpio.tar.gz" rel="nofollow">http://www.huubknops.com/rpi-gpio/gpio.tar.gz</a></p>
<p>Sincerely,<br />
Huub Knops</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=3222#respond' onclick='return addComment.moveForm( "comment-3222", "3222", "respond", "83" )' aria-label='Reply to Huub Knops'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-3226">
		<article id="comment-3226" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-3226"><time datetime="2012-12-25T21:36:12+00:00">December 25, 2012 at 9:36 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi Huub, good stuff, I hope I didn&#8217;t turn your TV off in the middle of Christmas viewing! An enhancement that comes to mind regarding your code would be to show the states on the same page as the form (e.g. either in a div above, or individually beside each button). Then an action page (e.g. &#8216;do_action.php?gpio=24&#038;state=1&#8242;) would process the request and then redirect back to the form. An HTTP 302, or 303/307 response can be used to direct the browser back to an originating page.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=3226#respond' onclick='return addComment.moveForm( "comment-3226", "3226", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment odd alt depth-3" id="li-comment-3293">
		<article id="comment-3293" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/71185705a7bfccb772427b3ae9f1ba71?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn"><a href='http://www.huubknops.com' rel='external nofollow' class='url'>Huub Knops</a></b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-3293"><time datetime="2012-12-28T02:45:38+00:00">December 28, 2012 at 2:45 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi Kevin, Learned new things today, thanks for the pointers! Page will be available until my 8 Channel Relay Module Board arrives!-)</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=3293#respond' onclick='return addComment.moveForm( "comment-3293", "3293", "respond", "83" )' aria-label='Reply to Huub Knops'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-4" id="li-comment-4680">
		<article id="comment-4680" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/71185705a7bfccb772427b3ae9f1ba71?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn"><a href='http://pi.huubknops.com' rel='external nofollow' class='url'>Huub Knops</a></b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-4680"><time datetime="2013-01-21T11:15:45+00:00">January 21, 2013 at 11:15 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi Kevin,</p>
<p>Just a small update; pictures of the WIP;</p>
<p><a href="http://www.flickr.com/photos/26559873@N04/8346195852/" rel="nofollow">http://www.flickr.com/photos/26559873@N04/8346195852/</a><br />
<a href="http://www.flickr.com/photos/26559873@N04/8346243358/" rel="nofollow">http://www.flickr.com/photos/26559873@N04/8346243358/</a><br />
<a href="http://www.flickr.com/photos/26559873@N04/8345389399/" rel="nofollow">http://www.flickr.com/photos/26559873@N04/8345389399/</a><br />
<a href="http://www.flickr.com/photos/26559873@N04/8401978978/" rel="nofollow">http://www.flickr.com/photos/26559873@N04/8401978978/</a></p>
<p>Sincerely,<br />
Huub</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=4680#respond' onclick='return addComment.moveForm( "comment-4680", "4680", "respond", "83" )' aria-label='Reply to Huub Knops'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-3871">
		<article id="comment-3871" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/d10a6ad1e0e88c9902ae76fe0021e072?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Ade</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-3871"><time datetime="2013-01-08T14:09:58+00:00">January 8, 2013 at 2:09 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>With thanks for your help, got it working : <a href="http://www.youtube.com/watch?v=n72l6Vgf5Ek" rel="nofollow">http://www.youtube.com/watch?v=n72l6Vgf5Ek</a></p>
<p>First YouTube video!</p>
<p>System is now configured to fire under motion detection software running on the Pi. New video coming soon of that&#8230;</p>
<p>Thanks again for your help.</p>
<p>Adrian&#8230;</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=3871#respond' onclick='return addComment.moveForm( "comment-3871", "3871", "respond", "83" )' aria-label='Reply to Ade'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-3884">
		<article id="comment-3884" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-3884"><time datetime="2013-01-08T18:26:29+00:00">January 8, 2013 at 6:26 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Well done! Let us see some photos you get with your setup.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=3884#respond' onclick='return addComment.moveForm( "comment-3884", "3884", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment odd alt depth-3" id="li-comment-3893">
		<article id="comment-3893" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/d10a6ad1e0e88c9902ae76fe0021e072?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Ade</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-3893"><time datetime="2013-01-08T20:05:35+00:00">January 8, 2013 at 8:05 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks Kevin, will put something up when complete, need to make a box for it all as it will be externally sited. Will keep int touch&#8230;</p>
<p>Regards.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=3893#respond' onclick='return addComment.moveForm( "comment-3893", "3893", "respond", "83" )' aria-label='Reply to Ade'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-4" id="li-comment-11133">
		<article id="comment-11133" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/d10a6ad1e0e88c9902ae76fe0021e072?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Ade</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-11133"><time datetime="2013-04-06T19:13:51+00:00">April 6, 2013 at 7:13 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Kevin, as promised, some pictures taken with the setup created with your instruction.</p>
<p><a href="http://flic.kr/s/aHsjEBXPMC" rel="nofollow">http://flic.kr/s/aHsjEBXPMC</a></p>
<p>Regards &amp; Gratitude,</p>
<p>Adrian..</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=11133#respond' onclick='return addComment.moveForm( "comment-11133", "11133", "respond", "83" )' aria-label='Reply to Ade'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4237">
		<article id="comment-4237" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/d10a6ad1e0e88c9902ae76fe0021e072?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Ade</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-4237"><time datetime="2013-01-14T16:18:51+00:00">January 14, 2013 at 4:18 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>New video uploaded, camera now fires when motion detected. Haven&#8217;t got round to making the box yet though.</p>
<p><a href="http://www.youtube.com/watch?v=10OXagkNRWI" rel="nofollow">http://www.youtube.com/watch?v=10OXagkNRWI</a><br />
Regards,</p>
<p>Adrian..</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=4237#respond' onclick='return addComment.moveForm( "comment-4237", "4237", "respond", "83" )' aria-label='Reply to Ade'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-4339">
		<article id="comment-4339" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/4bb0fe27445a630bf7ac923f1397d8a9?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Ben</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-4339"><time datetime="2013-01-16T04:14:48+00:00">January 16, 2013 at 4:14 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I&#8217;m baffled.  I put this circuit together with a set of transistors and relays I&#8217;ve used for projects in the past.  And the behavior I&#8217;m seeing is REVERSED!<br />
2n3904 transistor<br />
aleph sd1a05awj relay<br />
1N4148 diode<br />
1.2KOhm resistor</p>
<p>I can put my meter on the pi&#8217;s pins 17 and ground and set it to &#8220;output&#8221; and &#8220;write 1&#8243; to it I see the voltage turn on.  When I &#8220;write 0&#8243; out, no voltage.  So I&#8217;m confident I&#8217;m controlling the output pin properly.  But when I hook up the circuit the relay &#8220;closes&#8221; when I &#8220;write 0&#8243; and opens when I &#8220;write 1&#8243;.  I can hear the reed relay click as it opens and closes and measure the resistance across the contacts as continuity opens and closes.  So I know the relay is functioning.</p>
<p>I&#8217;ve reviewed my circuit and compared it to the picture and diagram in this article and it all appears correct.  I&#8217;ve triple checked the polarity on the diode and transistor.</p>
<p>Something is saturating the transistor when Pin 17 is off and somehow dropping it when Pin 17 is on.</p>
<p>I&#8217;m open to any suggestions as I&#8217;m still fairly new at this.<br />
Thanks in advance,<br />
Ben</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=4339#respond' onclick='return addComment.moveForm( "comment-4339", "4339", "respond", "83" )' aria-label='Reply to Ben'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-4359">
		<article id="comment-4359" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-4359"><time datetime="2013-01-16T12:10:18+00:00">January 16, 2013 at 12:10 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>That does sound strange. The first thing I&#8217;d do set use a multimeter to measure the current between (more accurately, through) the GPIO and the 1.2K resistor, and then again between, for example +V and the coil.</p>
<p>Do this for both GPIO = 0 and GPIO = 1. I&#8217;d also repeat after adding a pull-down resistor between the transistor&#8217;s base and ground (~10K).</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=4359#respond' onclick='return addComment.moveForm( "comment-4359", "4359", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-3" id="li-comment-4399">
		<article id="comment-4399" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/4bb0fe27445a630bf7ac923f1397d8a9?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Ben</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-4399"><time datetime="2013-01-17T03:18:02+00:00">January 17, 2013 at 3:18 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Ok, well this is embarrassing.  I got my 2N3904&#8217;s mixed in with my 2N3906&#8217;s and guest what the difference is . .. PNP vs NPN. So the circuit was behaving exactly as I implemented it, i.e. a &#8220;normally open&#8221; transistor that closed with current was applied.  Sigh . ..</p>
<p>Ok, I got my REAL 3904 transistor in place and I could hear the relay &#8220;tink&#8221; quietly when I turned it off :-).  However, the odd thing is, that I had to reduce my resistor drastically to saturate the transistor enough to get a solid open on my relay.  I ended up needing to use a 390 ohm instead of 1.2K.  I reduced the resistor step by step until the relay would open and pass 5v to to light an LED.</p>
<p>Thanks for the troubleshooting tips and this great article.<br />
Ben</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=4399#respond' onclick='return addComment.moveForm( "comment-4399", "4399", "respond", "83" )' aria-label='Reply to Ben'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-4" id="li-comment-4423">
		<article id="comment-4423" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-4423"><time datetime="2013-01-17T09:39:27+00:00">January 17, 2013 at 9:39 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Looking at the 3904 datasheet, the gain parameter (hFE) for this transistor is quite low, and also seems to be vary wildly on a narrow range of collector currents, so I&#8217;d guess that this is the reason you need a much lower value resistor between the pin and base.</p>
<p>On the other hand, your relay, with a 500ohm coil (I think), should only require 10mA to energise at 5V, and this is the &#8216;ideal&#8217; for maximum hFE according to the datasheet. Measuring actual current through certain points in the circuit would allow you to do the sums to confirm all is within spec (and if you do, please post us your data).</p>
<p>Are you sure the collector and the emitter are the right way round?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=4423#respond' onclick='return addComment.moveForm( "comment-4423", "4423", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-5" id="li-comment-4553">
		<article id="comment-4553" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/4bb0fe27445a630bf7ac923f1397d8a9?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Ben</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-4553"><time datetime="2013-01-19T18:47:04+00:00">January 19, 2013 at 6:47 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I measure exactly 10mA current through the coil when it is active.   I measure almost 10mA  to the base of the transistor as well from the GPIO pin.  This seems high compared to your 3mA suggestion in your post.  The current on the emitter leg of the transistor is 20mA.  I think that makes sense as it is passing both the base and collector&#8217;s current to ground.</p>
<p>I am a little concerned about the 10mA to the base, but if I am reading the GPIO specs right, I should be able to handle up to 15mA&#8217;s on a given pin.  So while I&#8217;m at 3.3 times your recommended mA it seems like I&#8217;m still in spec.  Am I understanding this correctly?   Also, I will be driving two of these circuits from pin 17 and 22 respectively.  20mA off of that P1 block still is below the 50mA limit.   Do you see any trouble here?</p>
<p>I have quintuple checked both the cathode/anode orientation of my diode and the collector/emitter orientation of my transistor.  Beyond that, if I understand the nature of the transistor (polarized) I don&#8217;t believe it would work properly if either were reversed.   </p>
<p>It seems to work reliably now and I&#8217;m getting ready to move it off of my breadboard and onto onto the protoboard, but I&#8217;ll wait a bit to see if you see any gaping holes in my logic.  Wouldn&#8217;t want to melt down my Pi.  Thanks for your suggestions and hints along the way!<br />
Ben</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=4553#respond' onclick='return addComment.moveForm( "comment-4553", "4553", "respond", "83" )' aria-label='Reply to Ben'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-6" id="li-comment-4554">
		<article id="comment-4554" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-4554"><time datetime="2013-01-19T19:02:06+00:00">January 19, 2013 at 7:02 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>As long as you&#8217;re not exceeding the maximum B-E current, then it should all be ok. Regardless though, something seems wrong if the transistor needs 10mA B-E to drive 10mA C-E. What are the current measurements with the 1K or higher resistors? Have you tried a different NPN transistor (even of the same type)?</p>
<p>I think that if the emitter and the collector are reversed, it will still work as an NPN, but less effectively due to the different amounts of doping between the two N channels &#8211; that is, a higher base current will be required to saturate. My knowledge on transistors is a bit superficial, I should add!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=4554#respond' onclick='return addComment.moveForm( "comment-4554", "4554", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-7" id="li-comment-4560">
		<article id="comment-4560" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/4bb0fe27445a630bf7ac923f1397d8a9?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Ben</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-4560"><time datetime="2013-01-19T22:59:10+00:00">January 19, 2013 at 10:59 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Ok, looks like your understanding of the transistor (much deeper than mine) provided the final clue.  Of course I would have to overdrive the base if it was backwards!  I had been looking at a datasheet for a different 3904 package.  Yes, the collector and emitter were reversed!  Ok, back to using a 1.2K resistor and only drawing 2mA to saturate it and open the relay.  I can only hope that some other beginner can learn from my mistakes.  I appreciate you patience and hints along the way.  Warming up the soldering iron and getting out the proto-board.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=4560#respond' onclick='return addComment.moveForm( "comment-4560", "4560", "respond", "83" )' aria-label='Reply to Ben'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-5304">
		<article id="comment-5304" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/38ecb4e67c38b78ba8704831ddcfb784?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Mark Amos</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-5304"><time datetime="2013-01-30T02:10:13+00:00">January 30, 2013 at 2:10 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you for providing the code &#8211; works great!</p>
<p>Is there a way to compile it such that a non-root user can run it?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=5304#respond' onclick='return addComment.moveForm( "comment-5304", "5304", "respond", "83" )' aria-label='Reply to Mark Amos'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-5324">
		<article id="comment-5324" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-5324"><time datetime="2013-01-30T09:48:32+00:00">January 30, 2013 at 9:48 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>The user that runs the program needs to have write-permission on the file &#8216;/dev/mem&#8217;. There are various approaches &#8211; search around chmod, chgrp or chown, /etc/group, udev configuration.</p>
<p>Alternatively, use the &#8216;/sys/class/gpio&#8217; files &#8211; you can use from bash, but they can also be used from C with fopen(), fputs(), etc. This also requires a user with appropriate permissions (e.g. group read &#038; write), but limits access to only the GPIO pins.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=5324#respond' onclick='return addComment.moveForm( "comment-5324", "5324", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-5666">
		<article id="comment-5666" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/1e6da819bd3cca18c66af56f68374b94?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn"><a href='http://Willthesepartswork?' rel='external nofollow' class='url'>JH</a></b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-5666"><time datetime="2013-02-04T21:28:59+00:00">February 4, 2013 at 9:28 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I am thinking about controlling 120V (&lt;300W) by following this post. I am going to get parts from Adafruit. May I ask whether I can use the diode and transistor for my project:<br />
&#8211; PN2222 Transistor: <a href="https://www.adafruit.com/products/756" rel="nofollow">https://www.adafruit.com/products/756</a><br />
&#8211; 1N4001 Diode: <a href="https://www.adafruit.com/products/755" rel="nofollow">https://www.adafruit.com/products/755</a></p>
<p>The diode seems to be ok since it is supposed to protect only 3.3V.  But due to my poor understanding of transistor, I am not sure if the one above would work.</p>
<p>Thanks for your great post!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=5666#respond' onclick='return addComment.moveForm( "comment-5666", "5666", "respond", "83" )' aria-label='Reply to JH'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-5951">
		<article id="comment-5951" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-5951"><time datetime="2013-02-08T13:46:41+00:00">February 8, 2013 at 1:46 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Both should be fine &#8211; other transistors may need lower resistor values, depending on the gain. Probably not in this instance. However, I&#8217;d encourage you to learn about how transistors work in this example by confirming for yourself that the transistor would work. hFE and the relay coil current are the two variables you need to focus on.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=5951#respond' onclick='return addComment.moveForm( "comment-5951", "5951", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-5769">
		<article id="comment-5769" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/428273af4b8fd7b288e2078ecd3f0874?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn"><a href='http://thanks!' rel='external nofollow' class='url'>Norman</a></b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-5769"><time datetime="2013-02-06T08:07:17+00:00">February 6, 2013 at 8:07 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hello,</p>
<p>I just came here yesterday as I am interested in how to deal with a relay as well and simply have to say that this article is supreme for a beginner like me.<br />
After reading the article, shopping at an electronics store nearby (i had to use a different relay), reading data-sheets and coping with the characteristics of the requirements, I gave everything a try and it just works. Guess I will try to use the relay with some testing equipment (as I am a beginner, guess i shouldn&#8217;t and mustn&#8217;t deal with regular 230V-currents right now ;-)). Anyhow&#8230;THANKS!</p>
<p>Greeting from Germany<br />
Norman</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=5769#respond' onclick='return addComment.moveForm( "comment-5769", "5769", "respond", "83" )' aria-label='Reply to Norman'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-5952">
		<article id="comment-5952" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-5952"><time datetime="2013-02-08T13:49:19+00:00">February 8, 2013 at 1:49 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>You might consider buying a cheap low-voltage lighting transformer and bulb, and switch the low voltage (e.g. 12V AC) using the relay. You can scale up when you are confident that you know what you are doing.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=5952#respond' onclick='return addComment.moveForm( "comment-5952", "5952", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-5950">
		<article id="comment-5950" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/da0f34e9af3d388c86138b99caa90fbb?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn"><a href='http://mazz.se' rel='external nofollow' class='url'>mazzse</a></b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-5950"><time datetime="2013-02-08T13:37:30+00:00">February 8, 2013 at 1:37 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi Kevin,</p>
<p>First of all I got to tell you that the electrical drawing with the relay and more, works just fine, even up here in Sweden&#8230; :P<br />
Ive soldered it together on a board and it works fine, Iam using it for switching on/off heating in our summerhouse, depending on how hot/cold it is from our 1-wire DS18S20 net.</p>
<p>But now I would like to have a feedback that tells me if the Relay has been switched, when I login remote.</p>
<p>Its working so fine, I wounder if you could put together a version 1.1 of the drawing and the C code.<br />
So my plans is to use another transistor and a gpio for input, at the side of the relay (NC and C). That is possible right?</p>
<p>Once again, thanx for a great tut!</p>
<p>//Regards Mats</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=5950#respond' onclick='return addComment.moveForm( "comment-5950", "5950", "respond", "83" )' aria-label='Reply to mazzse'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-5955">
		<article id="comment-5955" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-5955"><time datetime="2013-02-08T14:13:06+00:00">February 8, 2013 at 2:13 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>The state of the GPIO pin will tell you the state of the relay, so perhaps this is the simplest approach? If you really need true feedback from the relay then&#8230;</p>
<p>I&#8217;d advise against doing anything on the contact-side of the relay &#8211; if you&#8217;re switching an AC load, then you risk high voltage going into the GPIO pin used for feedback. It can be done of course, but not without rectification, isolation, limiting current, etc.</p>
<p>You could possibly choose a relay with two <em>completely independent</em> sets of contacts (double-pole) switched from the coil &#8211; one pole could be used for 3.3V GPIO feedback (perhaps opto-isolated), the other for the AC load &#8211; but keep the AC and DC wiring safely separated.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=5955#respond' onclick='return addComment.moveForm( "comment-5955", "5955", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment odd alt depth-3" id="li-comment-5996">
		<article id="comment-5996" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/da0f34e9af3d388c86138b99caa90fbb?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn"><a href='http://mazz.se' rel='external nofollow' class='url'>mazzse</a></b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-5996"><time datetime="2013-02-09T02:12:34+00:00">February 9, 2013 at 2:12 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi and thanx for fast reply,</p>
<p>You are right about the state of the GPIO pin is telling me the status, but I need some more status check.<br />
During winter time it can can be about -10 Celsius around some certain electronics inside, so I am worried about some electronic stuffs malfunction in this cold weather conditions.<br />
To get a quick way of controlling my on/off for heating in the summerhouse, instead of learning how to build my own php script handle this in a the apache website.<br />
I downloaded “WebIOPi” and with this installed and running I cant use the echo “0″ or “1″ command to view it.<br />
Although, if I find a php script witch makes me controll it in the webinterface instead of WebIOPi. I would go with that first, and see how this turns out.</p>
<p>Speaking about your advise, I forgot to write this.<br />
I am driving through the “5v relay NO-C” 24vAC to a contactor who handle the switching of 240vAC.</p>
<p>My plan were to add, diod to get 24vDC to switch another trasistor, and that will lead 3,3v/5v from-to GPIO to have the input. That would fit in the board where this all is soldered up at today (and this little change will be a possible chance to make it in this going on season). Changing to another relay (doule-pole) would not be an option cause it cant fit at the board, so i´d need to make a new one. And that would at this time of the year not be a possible project. Perhaps next winter season.</p>
<p>But I guess the best way during this ongoing season is for me to figure it out how to learn programming php to get this work.</p>
<p>Sincerely<br />
Mats</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=5996#respond' onclick='return addComment.moveForm( "comment-5996", "5996", "respond", "83" )' aria-label='Reply to mazzse'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-7088">
		<article id="comment-7088" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/1c57c649a253d1b1046c56105e2a072a?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">crazy888s</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-7088"><time datetime="2013-02-28T21:38:02+00:00">February 28, 2013 at 9:38 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>First of all, I&#8217;m fairly new to electronics and have already learned so much. Thanks for sharing so much information. It has been invaluable in my quest!</p>
<p>Ok- so initially, I tried to connect a GPIO directly to a relay. I purchased a 3V relay, thinking that&#8217;s all I needed. It didn&#8217;t work. As far as I (now) understand, the GPIO pins only push 40mA, and the relay I bought requires 120mA to switch. Dang- seems I need more mA.</p>
<p>I tested the 3V3 pin on the PI with a multimeter, and it pushes nearly 300mA. So as a quick test, I hooked up my relay directly to the 3V3 pin, and the relay does work (I hear the click).</p>
<p>So I found your page and tried to follow it (using the 3V3 instead of 5V to power my relay). I went to Fry&#8217;s and purchased a transistor and a diode, and I guess I got the wrong ones. I spent quite a bit of time researching these components, but I guess I still fail to understand what I need. What are the important factors for these components?</p>
<p>Here&#8217;s what I bought:<br />
1. General Purpose Diode &#8211; NTE110A (<a href="http://www.nteinc.com/specs/100to199/pdf/nte110a.pdf" rel="nofollow">http://www.nteinc.com/specs/100to199/pdf/nte110a.pdf</a>)<br />
2. NPN Transistor &#8211; NTE2361 (<a href="http://www.nteinc.com/specs/2300to2399/pdf/nte2361.pdf" rel="nofollow">http://www.nteinc.com/specs/2300to2399/pdf/nte2361.pdf</a>)<br />
3. Relay &#8211; Philmore 86-103 (<a href="http://www.philmore-datak.com/mc/Page%20266.pdf" rel="nofollow">http://www.philmore-datak.com/mc/Page%20266.pdf</a>)</p>
<p>I believe I got everything wired up correctly and verified the diode direction and transistor ECB pins were correct&#8230; but the relay does not switch. Any thoughts? Thanks in advance.</p>
<p>crazy888s</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=7088#respond' onclick='return addComment.moveForm( "comment-7088", "7088", "respond", "83" )' aria-label='Reply to crazy888s'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment odd alt depth-2" id="li-comment-7133">
		<article id="comment-7133" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/1c57c649a253d1b1046c56105e2a072a?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">crazy888s</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-7133"><time datetime="2013-03-02T00:13:39+00:00">March 2, 2013 at 12:13 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I FIGURED IT OUT! I just had my transistor the wrong way *face palm*</p>
<p>The spec sheet I linked too made me think the pins go ECB when the trapezoid was facing me&#8230;. a multimeter showed I had it backwards though.</p>
<p>Thanks for the guide. Add this to your success stories. Cheers!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=7133#respond' onclick='return addComment.moveForm( "comment-7133", "7133", "respond", "83" )' aria-label='Reply to crazy888s'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even depth-2" id="li-comment-20544">
		<article id="comment-20544" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/8c0fa0f0a7dcad41ddb3821e247c67e0?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">sp3</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-20544"><time datetime="2013-07-18T21:35:50+00:00">July 18, 2013 at 9:35 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>try<br />
NTE R70-5D1-3 &#8211; Relay SPDT 1-Amp 3VDC (<a href="http://www.radioshack.com/product/index.jsp?productId=12479886" rel="nofollow">http://www.radioshack.com/product/index.jsp?productId=12479886</a>)</p>
<p>it&#8217;s a 3v relay with low enough resistance that could be driven by the gpio pin itself I think.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=20544#respond' onclick='return addComment.moveForm( "comment-20544", "20544", "respond", "83" )' aria-label='Reply to sp3'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-3" id="li-comment-20615">
		<article id="comment-20615" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-20615"><time datetime="2013-07-19T13:56:18+00:00">July 19, 2013 at 1:56 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I don&#8217;t think that would work. With a resistance of 60 ohms, the coil could feasibly draw 55mA from the GPIO pin which is way above the rating. Quite a nice little low power relay though &#8211; just don&#8217;t try driving it directly.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=20615#respond' onclick='return addComment.moveForm( "comment-20615", "20615", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="pingback even thread-even depth-1" id="comment-7544">
		<p>Pingback: <a href='http://www.jaguarforum.co.uk/f26/me-my-ideas-54424.html#post502626' rel='external nofollow' class='url'>Me and my ideas?</a> </p>
	</li><!-- #comment-## -->
	<li class="pingback odd alt thread-odd thread-alt depth-1" id="comment-7659">
		<p>Pingback: <a href='http://www.hoeser-medien.de/?p=345' rel='external nofollow' class='url'>Thomas Höser &raquo; GPIO Relais</a> </p>
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-8691">
		<article id="comment-8691" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/3f8b111a84226373e630ada239289e45?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Darren</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-8691"><time datetime="2013-03-20T03:07:35+00:00">March 20, 2013 at 3:07 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I have a few questions (Well, maybe more than a few). My ultimate goal is to control six 12V bilge pumps with my Raspberry Pi.<br />
Would that require six relays?<br />
What type of relay would I need?<br />
Would that require six transistors?<br />
Could I use the relay you mentioned in your article?<br />
How many diodes would I need?<br />
Lastly, would a 1N4148 diode work?</p>
<p>Thanks.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=8691#respond' onclick='return addComment.moveForm( "comment-8691", "8691", "respond", "83" )' aria-label='Reply to Darren'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-8756">
		<article id="comment-8756" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-8756"><time datetime="2013-03-20T12:11:33+00:00">March 20, 2013 at 12:11 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi, you&#8217;d just need to replicate the circuit six times, each connected to a different GPIO. You might find it easier to buy a pre-built relay board that switches on 3V3, eBay among others has plenty of these. Any general purpose relay would likely do, as long as the contacts can accommodate your device (volts/amps rating). A 1N4148 would work.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=8756#respond' onclick='return addComment.moveForm( "comment-8756", "8756", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-3" id="li-comment-8923">
		<article id="comment-8923" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/3f8b111a84226373e630ada239289e45?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Darren</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-8923"><time datetime="2013-03-21T13:19:06+00:00">March 21, 2013 at 1:19 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>So this relay would work? (5VDC coil, 220VDC max)</p>
<p>And this&#8230;</p>
<p><a href="http://www.amazon.com/SainSmart-8-Channel-Relay-Module-Arduino/dp/B0057OC5WK/ref=cm_cr_pr_product_top" rel="nofollow">http://www.amazon.com/SainSmart-8-Channel-Relay-Module-Arduino/dp/B0057OC5WK/ref=cm_cr_pr_product_top</a></p>
<p>&#8230;relay board would work? I saw one review where a person talked about using it with his/her Raspberry Pi. I couldn&#8217;t find many 6-relay boards.</p>
<p>Thanks, by the way!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=8923#respond' onclick='return addComment.moveForm( "comment-8923", "8923", "respond", "83" )' aria-label='Reply to Darren'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-4" id="li-comment-8931">
		<article id="comment-8931" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-8931"><time datetime="2013-03-21T14:34:28+00:00">March 21, 2013 at 2:34 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Probably yes &#8211; on both questions. As long as your 5V line can deliver enough power to drive 6 x relays, you should be ok.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=8931#respond' onclick='return addComment.moveForm( "comment-8931", "8931", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-9635">
		<article id="comment-9635" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/08e335fde74654455b338fb5b50e26a3?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn"><a href='http://blog.wolfplusplus.com' rel='external nofollow' class='url'>wolf++</a></b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-9635"><time datetime="2013-03-26T14:41:29+00:00">March 26, 2013 at 2:41 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi,</p>
<p>I was looking at using this circuit to turn a 12v amp on and off.  I found another circuit <a href="http://arduino-info.wikispaces.com/RelayIsolation" rel="nofollow">which has relay isolation.</a>  When do you need relay isolation and why does your circuit omit it?</p>
<p>Thanks!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=9635#respond' onclick='return addComment.moveForm( "comment-9635", "9635", "respond", "83" )' aria-label='Reply to wolf++'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-9637">
		<article id="comment-9637" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-9637"><time datetime="2013-03-26T15:43:23+00:00">March 26, 2013 at 3:43 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>In the circuit above, the load that you switch with the relay contacts is already isolated from the Raspberry Pi (because the coil in a relay is already isolated from the contact that it switches).</p>
<p>Isolation would therefore relate to the circuit driving the relay coil. You might choose to do this for safety reasons if, for example, the transistor is driving a much higher voltage, or perhaps just to eliminate noise from one circuit or the other, or to have separate grounds in each circuit. The list goes on&#8230;</p>
<p>Isolation isn&#8217;t applicable or necessary in the example above &#8211; I&#8217;d say that, if you don&#8217;t <em>know</em> you need isolation, then you <em>probably</em> don&#8217;t.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=9637#respond' onclick='return addComment.moveForm( "comment-9637", "9637", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-11715">
		<article id="comment-11715" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/21a257422c099468aa09ea55d535f95f?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">lucas</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-11715"><time datetime="2013-04-10T14:09:02+00:00">April 10, 2013 at 2:09 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>hey</p>
<p>great tutorial..is there a way i can drive the relay using python? it works fine with the /sys/ filesystem and i already tried it with a little python script but with no result. i used the RPi.GPIO library and tried to set the pin to &#8216;high&#8217; and &#8216;low&#8217; but it won&#8217;t work. does somebody know a solution to my problem maybe?</p>
<p>greetings, luci</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=11715#respond' onclick='return addComment.moveForm( "comment-11715", "11715", "respond", "83" )' aria-label='Reply to lucas'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-11718">
		<article id="comment-11718" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-11718"><time datetime="2013-04-10T14:27:08+00:00">April 10, 2013 at 2:27 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi, I don&#8217;t know much about Python libraries. You could try using the /sys filesystem with standard file-handling functions. This seems to be a good place to start before looking into why the library isn&#8217;t working. You could also try running the library-based Python code as root (e.g. sudo) to make sure it&#8217;s not a simple permissions issue.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=11718#respond' onclick='return addComment.moveForm( "comment-11718", "11718", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even depth-2" id="li-comment-11892">
		<article id="comment-11892" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/1c57c649a253d1b1046c56105e2a072a?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">crazy888s</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-11892"><time datetime="2013-04-11T17:28:55+00:00">April 11, 2013 at 5:28 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>luci-</p>
<p>I use a python library called webiopi-<br />
<a href="http://code.google.com/p/webiopi/" rel="nofollow">http://code.google.com/p/webiopi/</a></p>
<p>Works great. I personally use the built-in webserver, but it seems you can access all of the Python classes directly if you need to. It may be a good starting point.</p>
<p>crazy888s</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=11892#respond' onclick='return addComment.moveForm( "comment-11892", "11892", "respond", "83" )' aria-label='Reply to crazy888s'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12113">
		<article id="comment-12113" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/ad4406c4799c4594221068bcce5f2f74?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Zenock</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-12113"><time datetime="2013-04-12T21:28:30+00:00">April 12, 2013 at 9:28 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>If you want to play with Triacs&#8230; a good low voltage AC power supply to use is sprinkler system power supplies.. eg Rainbird.  They run at 24VAC.</p>
<p>Triacs are nice to use, cheaper, quicker, and more efficient than relays.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=12113#respond' onclick='return addComment.moveForm( "comment-12113", "12113", "respond", "83" )' aria-label='Reply to Zenock'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-12334">
		<article id="comment-12334" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-12334"><time datetime="2013-04-14T03:10:48+00:00">April 14, 2013 at 3:10 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks for the tip &#8211; another option is a 12VAC low-voltage lighting transformer, which can be bought for a few pounds.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=12334#respond' onclick='return addComment.moveForm( "comment-12334", "12334", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="pingback odd alt thread-even depth-1" id="comment-13237">
		<p>Pingback: <a href='http://ds1010-001.etph.mine.nu/wordpress/?p=5' rel='external nofollow' class='url'>Internet Controlled Raspberry Pi Garage Door Opener | ET Blog Home</a> </p>
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-13918">
		<article id="comment-13918" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/8e3b093e4051a2ae0ee3b94bec96cff8?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">edgar</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-13918"><time datetime="2013-04-26T18:00:11+00:00">April 26, 2013 at 6:00 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Excellent Thread, this saves me lot of time; before build on breadboard  test it on CircuitLab.</p>
<p>Im using a relay MD-5T, just needing 12 v to open a door usign a REST service.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=13918#respond' onclick='return addComment.moveForm( "comment-13918", "13918", "respond", "83" )' aria-label='Reply to edgar'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="pingback odd alt thread-even depth-1" id="comment-15963">
		<p>Pingback: <a href='http://eveready1010.wordpress.com/2013/05/20/internet-controlled-raspberry-pi-garage-door-opener/' rel='external nofollow' class='url'>Internet Controlled Raspberry Pi Garage Door Opener | eveready1010&#039;s Blog</a> </p>
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-17371">
		<article id="comment-17371" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/42e80536dbe8501c098d7a315d92241c?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Rick</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-17371"><time datetime="2013-06-08T02:52:49+00:00">June 8, 2013 at 2:52 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi, thanks for the excellent article. I am just starting out with this whole hobby electronics thing, and I was able to understand and build your relay, and it even worked the first try! Unfortunately, I&#8217;m still a bit ignorant about programming. I need the gpio_relay.c program to control GPIO 25 (pin 22). I tried replacing all the occurrences of &#8220;17&#8221; with &#8220;25&#8221; in your program, but it does not work as it should. Any suggestions? (Should note that I was able to build it and it worked fine on GPIO 17). Thanks!!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=17371#respond' onclick='return addComment.moveForm( "comment-17371", "17371", "respond", "83" )' aria-label='Reply to Rick'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-17424">
		<article id="comment-17424" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-17424"><time datetime="2013-06-08T21:54:09+00:00">June 8, 2013 at 9:54 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>You probably need to set the appropriate GPFSELn bits for GPIO25 rather than GPIO17 &#8211; by default these pins are be configured as inputs. It&#8217;s worth the effort figuring out on paper how bits are manipulated to configure GPFSEL registers. There&#8217;s doubtless lots written on this elsewhere, but come back to me if you get stuck&#8230;</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=17424#respond' onclick='return addComment.moveForm( "comment-17424", "17424", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-3" id="li-comment-17578">
		<article id="comment-17578" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/42e80536dbe8501c098d7a315d92241c?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Rick</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-17578"><time datetime="2013-06-10T16:40:42+00:00">June 10, 2013 at 4:40 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I&#8217;m not going to lie, most of what you said might as well have been in Latin, lol!! The purpose of driving my relay is really really simple, and I&#8217;m able to make it work 100% of the time by just putting the &#8216;echo &#8220;1&#8221;&#8216; and &#8216;echo &#8220;0&#8221;&#8216; commands in the shell script. Thanks for taking the time to reply to my comment, though. This is really a wonderful tutorial and solution!!!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=17578#respond' onclick='return addComment.moveForm( "comment-17578", "17578", "respond", "83" )' aria-label='Reply to Rick'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-4" id="li-comment-17765">
		<article id="comment-17765" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-17765"><time datetime="2013-06-12T23:41:14+00:00">June 12, 2013 at 11:41 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Much better to use a solution you&#8217;re confident with, unless there&#8217;s a need for more. For the record: &#8211;<br />
<code><br />
GPFSEL2 &#038;= ~(7 < < 15); GPFSEL2 |= (1 << 15); </code><br />
would set GPIO-25 to output mode. Note GPFSEL2, rather than GPFSEL1 holds the function select bits for GPIO-25.</code></p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=17765#respond' onclick='return addComment.moveForm( "comment-17765", "17765", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-18230">
		<article id="comment-18230" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/2c1cd5c3544470cf73695278e39d34b9?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">giorgos</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-18230"><time datetime="2013-06-19T11:40:44+00:00">June 19, 2013 at 11:40 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>how can i control 4 solid state relays using my raspberry pi ???<br />
how i connect the solid state relays with raspberry pi and how i control them via the ‘/sys’ filesystem ??</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=18230#respond' onclick='return addComment.moveForm( "comment-18230", "18230", "respond", "83" )' aria-label='Reply to giorgos'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-18787">
		<article id="comment-18787" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-18787"><time datetime="2013-06-26T16:21:24+00:00">June 26, 2013 at 4:21 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>The answer is beyond the scope of a blog comment &#8211; in principle, the control side of the SSR could be driven by a GPIO pin and a resistor, but the details would depend on the relay. Most common SSRs switch AC loads, and so you&#8217;d have to experiment on low-voltage circuits to be safe. There are almost certainly more appropriate tutorials elsewhere on the net.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=18787#respond' onclick='return addComment.moveForm( "comment-18787", "18787", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="pingback even thread-odd thread-alt depth-1" id="comment-20592">
		<p>Pingback: <a href='http://www.cnx-software.com/2013/07/19/diy-stripboardveroboard-enclosure-for-raspberry-pi-part-2/' rel='external nofollow' class='url'>DIY Stripboard/Veroboard Enclosure for Raspberry Pi (Part 2)</a> </p>
	</li><!-- #comment-## -->
	<li class="pingback odd alt thread-even depth-1" id="comment-22111">
		<p>Pingback: <a href='http://broadcastingtechnology.wordpress.com/2013/08/06/irn-switching-the-weird-way/' rel='external nofollow' class='url'>IRN Switching &#8211; The Weird Way | Dead Air</a> </p>
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-22365">
		<article id="comment-22365" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/8681971d92902a61784aac4b42973aa4?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn"><a href='http://jricher.com' rel='external nofollow' class='url'>Jacques Richer</a></b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-22365"><time datetime="2013-08-09T05:16:19+00:00">August 9, 2013 at 5:16 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>You might want to look into small MOSFETS like the 2n7000. If you use a MOSFET you don&#8217;t need a current limiting resistor, and the current draw on the RasPI&#8217;s GPIO pin is virtually unmeasurable.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=22365#respond' onclick='return addComment.moveForm( "comment-22365", "22365", "respond", "83" )' aria-label='Reply to Jacques Richer'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-22384">
		<article id="comment-22384" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-22384"><time datetime="2013-08-09T10:00:44+00:00">August 9, 2013 at 10:00 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I&#8217;d argue that it&#8217;s usually good practice to include a current limiting resistor &#8211; particularly when learning. It&#8217;s easy to confuse the pins on transistors, or refer to the wrong data-sheet for pin assignment, etc. There&#8217;s also the possibility that a part will fail, creating a short to ground.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=22384#respond' onclick='return addComment.moveForm( "comment-22384", "22384", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-33148">
		<article id="comment-33148" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/ee97db942f409d2a1a82cb6d1cf8d07b?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn"><a href='http://blog.ryanralph.net' rel='external nofollow' class='url'>Ryan</a></b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-33148"><time datetime="2013-10-27T15:02:00+00:00">October 27, 2013 at 3:02 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi Kevin, </p>
<p>Thanks for the post, proved quite useful. I&#8217;m planning on using your relay circuit image on an upcoming blog post at <a href="http://blog.ryanralph.net/automated-bathtub/" rel="nofollow">. Please let me know if I can have your permission to post it with a link back to this page.</p>
<p>Thanks,<br />
Ryan</a></p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=33148#respond' onclick='return addComment.moveForm( "comment-33148", "33148", "respond", "83" )' aria-label='Reply to Ryan'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-33253">
		<article id="comment-33253" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-33253"><time datetime="2013-10-28T11:58:44+00:00">October 28, 2013 at 11:58 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Sure, feel free to use the diagram. Ideally, the link text would be something like &#8216;Courtesy of&#8230;&#8217; or &#8216;Image by&#8230;&#8217; in the image title, but it&#8217;s up to you. Nice project.</p>
<p>Had a look at the KNX link you mentioned &#8211; their website has almost no useful information. No studies should be tied to such a closed organisation, so well done for ditching them and learning stuff &#8216;from the wires up&#8217;.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=33253#respond' onclick='return addComment.moveForm( "comment-33253", "33253", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-3" id="li-comment-33319">
		<article id="comment-33319" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/ee97db942f409d2a1a82cb6d1cf8d07b?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn"><a href='http://blog.ryanralph.net' rel='external nofollow' class='url'>Ryan</a></b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-33319"><time datetime="2013-10-28T22:23:53+00:00">October 28, 2013 at 10:23 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks for the permission, will add a caption to show that it&#8217;s from you. Really like your site and can&#8217;t wait to have a look more into your raspberry pi power controller after exams.<br />
Cheers,<br />
Ryan</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=33319#respond' onclick='return addComment.moveForm( "comment-33319", "33319", "respond", "83" )' aria-label='Reply to Ryan'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-4" id="li-comment-33342">
		<article id="comment-33342" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-33342"><time datetime="2013-10-29T02:04:17+00:00">October 29, 2013 at 2:04 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Contact me to get the PIC chip source code when you&#8217;re ready, it&#8217;s not on the site yet.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=33342#respond' onclick='return addComment.moveForm( "comment-33342", "33342", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-35424">
		<article id="comment-35424" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/ea46020fdcbdeae7dedd816cd3118bc1?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">teguh</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-35424"><time datetime="2013-11-25T07:51:03+00:00">November 25, 2013 at 7:51 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi Kevin, thanks for the tutorial.</p>
<p>I have problem here,<br />
i can switch on the relay, but i cannot switch off.</p>
<p>looklike the problem is from transistor BC337, i already try change the 1K resistor with 10K but still have the problem.<br />
the strange things is, when i touch the resitor pin, i can switch on the relay and it will be switch on forever. ( it&#8217;s just like SCR)<br />
and when i disconect the Resistor R1 from GPIO9 pin, the relay is still on.</p>
<p>My component is:<br />
Transistor Q1 = BC337<br />
Resistor R1 = 1K or 10K<br />
Relay = HFS5 (5volt relay)<br />
Dioda D1 = IN4002</p>
<p>I use 5 volt (+) from Pin 2 and Ground from Pin 6<br />
And using GPIO 9 from Pin 21</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=35424#respond' onclick='return addComment.moveForm( "comment-35424", "35424", "respond", "83" )' aria-label='Reply to teguh'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-35437">
		<article id="comment-35437" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-35437"><time datetime="2013-11-25T09:51:05+00:00">November 25, 2013 at 9:51 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi, it looks like you&#8217;re using a solid state relay which requires an AC load in order for it to ever switch off (which it does as the AC load voltage crosses 0V). Try it on a low-voltage AC load to see if it makes a difference.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=35437#respond' onclick='return addComment.moveForm( "comment-35437", "35437", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-3" id="li-comment-35487">
		<article id="comment-35487" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/ea46020fdcbdeae7dedd816cd3118bc1?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">teguh</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-35487"><time datetime="2013-11-26T06:35:11+00:00">November 26, 2013 at 6:35 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi Kevin, Thanks for the reply.</p>
<p>Hmm, yes it&#8217;s solid state relay.<br />
if i read again the specs in here <a href="http://www.asiarelay.com/Products/pdfs/hongfa/HFS5%28JGC-5F%29_EN.pdf" rel="nofollow">http://www.asiarelay.com/Products/pdfs/hongfa/HFS5%28JGC-5F%29_EN.pdf</a><br />
So Yes, it&#8217;s for AC Load.</p>
<p>I want to use the Relay for Switch off and Switch Off the Voltage Rail, for BAFO USB to Serial Conventer that conected to USB Port on RaspberryPi.<br />
Do i need to change it to an ordinary Relay or just a Transistor will do it?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=35487#respond' onclick='return addComment.moveForm( "comment-35487", "35487", "respond", "83" )' aria-label='Reply to teguh'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-4" id="li-comment-35646">
		<article id="comment-35646" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-35646"><time datetime="2013-11-27T14:42:51+00:00">November 27, 2013 at 2:42 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>The problem with a coil relay is that it draws current when energised, quite a lot relative to most USB devices. If you just need a reset function, then I suppose a relay with normally-closed contacts might do the job. </p>
<p>A latching relay helps avoid the need for continuous current in the coil, but they are typically more complex to drive, requiring an H bridge circuit. Some small signal latching relays could be driven by GPIO pins, if you don&#8217;t mind going a little out of spec &#8211; the coil may draw more than the usual 25mA per pin, but only for a short amount of time.</p>
<p>So, a transistor is possibly the best option &#8211; as long as it has a low resistance when fully saturated/on, and it can carry loads of 500mA or so (as per USB specification, check your device won&#8217;t draw more).</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=35646#respond' onclick='return addComment.moveForm( "comment-35646", "35646", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-5" id="li-comment-35740">
		<article id="comment-35740" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/ea46020fdcbdeae7dedd816cd3118bc1?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">teguh</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-35740"><time datetime="2013-11-28T09:31:50+00:00">November 28, 2013 at 9:31 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi Kevin,</p>
<p>Thanks for the Reply,<br />
i check &#8220;BAFO USB to Serial&#8221; only need 100mA, so as you suggest, with transistor i can Switch on/off this &#8220;BAFO USB to Serial&#8221; Devices.<br />
Thanks for the help, now i will search the best transistor for it, or do you have a sugestion ?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=35740#respond' onclick='return addComment.moveForm( "comment-35740", "35740", "respond", "83" )' aria-label='Reply to teguh'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-6" id="li-comment-35741">
		<article id="comment-35741" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-35741"><time datetime="2013-11-28T09:48:54+00:00">November 28, 2013 at 9:48 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Check the comments for the power controller post elsewhere on this blog &#8211; Alex from MSL Digital Solutions uses a IRFU5305 for his power controller that would meet your needs. You will likely need to drive its gate with another transistor.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=35741#respond' onclick='return addComment.moveForm( "comment-35741", "35741", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="pingback even thread-even depth-1" id="comment-62797">
		<p>Pingback: <a href='http://www.tinkerlove.com/scc-part-ii/' rel='external nofollow' class='url'>A server cabinet control unit &#8211; part II | tinkerlove</a> </p>
	</li><!-- #comment-## -->
	<li class="pingback odd alt thread-odd thread-alt depth-1" id="comment-69221">
		<p>Pingback: <a href='http://www.pratermade.com/2014/07/garage-door-control-with-the-raspberry-pi/' rel='external nofollow' class='url'>Garage Door Control with the Raspberry Pi &#124; PRATERMADE</a> </p>
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-69280">
		<article id="comment-69280" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/f85e95b58384f4e9b26139501681efd9?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Ricardo</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-69280"><time datetime="2014-07-31T09:34:36+00:00">July 31, 2014 at 9:34 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi,<br />
Firstable, amazing post! Im learning a lot these days.</p>
<p>My question is if i can use this solid state relay SSR-25DA (<a href="http://www.fotek.com.hk/solid/SSR-1.htm" rel="nofollow">http://www.fotek.com.hk/solid/SSR-1.htm</a>)</p>
<p>Thanks in advance.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=69280#respond' onclick='return addComment.moveForm( "comment-69280", "69280", "respond", "83" )' aria-label='Reply to Ricardo'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-69281">
		<article id="comment-69281" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-69281"><time datetime="2014-07-31T09:42:23+00:00">July 31, 2014 at 9:42 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Yes, that should work if you are driving an AC load.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=69281#respond' onclick='return addComment.moveForm( "comment-69281", "69281", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-69484">
		<article id="comment-69484" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/f4bac567517387096bbe29d1b85f74ad?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">jayani aththanayake</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-69484"><time datetime="2014-08-07T19:32:58+00:00">August 7, 2014 at 7:32 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>could you please help me to identify the collector and emitter pins of the transistor&#8230;..?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=69484#respond' onclick='return addComment.moveForm( "comment-69484", "69484", "respond", "83" )' aria-label='Reply to jayani aththanayake'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-69653">
		<article id="comment-69653" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-69653"><time datetime="2014-08-13T01:00:28+00:00">August 13, 2014 at 1:00 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Really, you should just read the transistor number and look up the datasheet.</p>
<p>But, for fun, assuming you&#8217;ve found the base (view the transistor as two diodes, plenty of resources on the internet describe this), you might create a simple LED/resistor circuit that will drive a low current through the base, and then try the transistor both ways. The LED will be brighter in the correct orientation.</p>
<p>Just don&#8217;t mix up the C or E with B, or there&#8217;ll be smoke. There may be better ways to do this, just none that I know of.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=69653#respond' onclick='return addComment.moveForm( "comment-69653", "69653", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-71800">
		<article id="comment-71800" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/f2900fda76b2cbe544efa3080ac4603b?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">marek</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-71800"><time datetime="2014-09-23T11:36:52+00:00">September 23, 2014 at 11:36 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi Kevin, </p>
<p>The setup I made is instead of the R1 1K i have a 2.2K and the Q1 BC3337 I have a NPN 2N2222A  I use a 5v 4channel relay. When I want to switch the relay the control LED on the relay goes weak on but nothing happens. I assume that eather the 2.2K is to much or the NPN is wrong. any idea?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=71800#respond' onclick='return addComment.moveForm( "comment-71800", "71800", "respond", "83" )' aria-label='Reply to marek'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-71809">
		<article id="comment-71809" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-71809"><time datetime="2014-09-23T13:52:21+00:00">September 23, 2014 at 1:52 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>You can put 2 x 2.2K resistors in parallel to get closer to 1K. I don&#8217;t know off hand about the transistor you mention, but as long as you don&#8217;t exceed the specified maximum B-E current, or the maximum C-E current (driving the coil), then it should work. Read the previous comments and references for more information.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=71809#respond' onclick='return addComment.moveForm( "comment-71809", "71809", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-74010">
		<article id="comment-74010" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/c825079ccb44a7cded861fb559aee3b2?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Steve B</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-74010"><time datetime="2014-10-29T18:07:36+00:00">October 29, 2014 at 6:07 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This is probably a stupid question, but why do you need to control everything with the 3.3v pin?  Why can&#8217;t you just set the 5v high to energize the relay?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=74010#respond' onclick='return addComment.moveForm( "comment-74010", "74010", "respond", "83" )' aria-label='Reply to Steve B'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-74015">
		<article id="comment-74015" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-74015"><time datetime="2014-10-29T20:40:05+00:00">October 29, 2014 at 8:40 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Any 5V source that can supply around 100mA would indeed energise the relay. However, if we want to switch it under software control, then we need to use a GPIO (General Purpose Input Output) pin, since it can be switched high and low by setting and clearing bits in a hardware register.</p>
<p>If GPIO pins could commonly supply 100mA, then we could drive the relay directly. However, they are usually rated to supply no more than 25mA, which wouldn&#8217;t energise the coil enough to switch the relay&#8217;s contacts. That&#8217;s why we use a GPIO pin to drive a transistor which switches a higher load.</p>
<p>On the Raspberry Pi, all GPIO pins operate at 3.3V, but the above would still be true for a microcontroller running at 5V (e.g. a PIC or ATmega/Arduino, etc.)</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=74015#respond' onclick='return addComment.moveForm( "comment-74015", "74015", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="pingback even thread-even depth-1" id="comment-74549">
		<p>Pingback: <a href='http://arnholm.org/raspberry-pi-controlling-a-relay/' rel='external nofollow' class='url'>Raspberry Pi &#8211; Controlling a Relay | arnholm.org</a> </p>
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75084">
		<article id="comment-75084" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/186cdfc0b03bdfe81b2fb066328d5783?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">dileep</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-75084"><time datetime="2014-11-28T07:34:15+00:00">November 28, 2014 at 7:34 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>sir, I  controlled load (in my scenario I put a bulb) by using a 5v 10 amp relay<br />
I am controlling it on and off. Now I would like to know how to add a switch (10 amp) and directly control the load when the relay is off (i.e. manually).</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=75084#respond' onclick='return addComment.moveForm( "comment-75084", "75084", "respond", "83" )' aria-label='Reply to dileep'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-75763">
		<article id="comment-75763" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-75763"><time datetime="2014-12-10T21:09:04+00:00">December 10, 2014 at 9:09 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>A switch would go in parallel with the relay contacts. Effectively, you&#8217;ll be bridging the relay contacts when the switch is closed.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=75763#respond' onclick='return addComment.moveForm( "comment-75763", "75763", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="pingback odd alt thread-even depth-1" id="comment-79011">
		<p>Pingback: <a href='http://arnholm.org/raspberry-pi-lens-heater/' rel='external nofollow' class='url'>Raspberry Pi Lens Heater | arnholm.org</a> </p>
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-79687">
		<article id="comment-79687" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/88e551860c6c2a31788851eb45fca1cd?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Tim</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-79687"><time datetime="2015-01-28T18:58:29+00:00">January 28, 2015 at 6:58 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Here is a small Lib;<br />
<a href="https://bitbucket.org/Bl4ck_Sh33p/relayshielddriver" rel="nofollow">https://bitbucket.org/Bl4ck_Sh33p/relayshielddriver</a></p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=79687#respond' onclick='return addComment.moveForm( "comment-79687", "79687", "respond", "83" )' aria-label='Reply to Tim'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-86768">
		<article id="comment-86768" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/6b6660d806a38196480a05b9fb00f711?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Dave</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-86768"><time datetime="2015-12-24T17:46:12+00:00">December 24, 2015 at 5:46 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Would it be possible to drive 4 relays with 1 Raspberry?</p>
<p>I work in the telecom branch. I would like to connect 1 telephone wire to 4 relays and have the relays close one by one, after 25 minutes have passed. Would it be possible?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=86768#respond' onclick='return addComment.moveForm( "comment-86768", "86768", "respond", "83" )' aria-label='Reply to Dave'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-86769">
		<article id="comment-86769" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-86769"><time datetime="2015-12-24T18:40:13+00:00">December 24, 2015 at 6:40 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Yes it&#8217;s perfectly possible. The Raspberry Pi&#8217;s GPIO pins only drive the transistor&#8217;s base, which requires very little current, so the only limit to the number of relays you can control is the number of available output pins. There are plenty of multi-relay boards available with digital inputs that you can drive directly from the Pi&#8217;s pins.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=86769#respond' onclick='return addComment.moveForm( "comment-86769", "86769", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-93947">
		<article id="comment-93947" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/c28fdd3b3d7036f0399eb4041a518249?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Victor</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-93947"><time datetime="2016-03-15T22:43:39+00:00">March 15, 2016 at 10:43 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi Kevin,<br />
I would like to try your project. I am good in Hardware but not in software. I need your help.<br />
I went through all the comment, it seems everybody are asking for the hardware side but not the software.</p>
<p>My question is how to program the Pi?  The language you said is C but what is the IDE and how to compile the code and how to download the machine code in the Pi?<br />
Please help me.<br />
Thanks in advance.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=93947#respond' onclick='return addComment.moveForm( "comment-93947", "93947", "respond", "83" )' aria-label='Reply to Victor'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-93948">
		<article id="comment-93948" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-93948"><time datetime="2016-03-15T23:31:12+00:00">March 15, 2016 at 11:31 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>For an editor on the Raspberry Pi, I usually use vi, and then gcc to compile (or &#8216;make&#8217; if the project grows beyond a couple of files). You can edit, compile, and run entirely on the Raspberry Pi, no need to upload anything.</p>
<p>You could also use a network share (e.g. Samba) to edit files using another computer, and keep an SSH session open to compile and test.</p>
<p>There are IDEs and editors that should run well on the Raspbian desktop, but I haven&#8217;t looked at them &#8211; just use Google (C IDE for Raspbian).</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=93948#respond' onclick='return addComment.moveForm( "comment-93948", "93948", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-94371">
		<article id="comment-94371" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dc738c291d6727545dcdd83498f73f94?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Daniel O'Brien</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-94371"><time datetime="2016-03-29T18:31:50+00:00">March 29, 2016 at 6:31 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi Kevin,</p>
<p>Great post, and great to see you are still supporting it and answering questions after so many years!<br />
This may be outside the scope of the post but I want to use the Pi to control a TEC heater (ultimately I am aiming to implement a PID loop I have the Pi recording temperature and the bones of PID code working but am stuck on the best way to power the heater itself) and was wonding if you think this method would work. Obviously I will require an external power supply. I fear that the amperage required might be too high though.</p>
<p>Any thoughs on it would be greatly appreciated.<br />
My thanks,<br />
Daniel</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=94371#respond' onclick='return addComment.moveForm( "comment-94371", "94371", "respond", "83" )' aria-label='Reply to Daniel O&#039;Brien'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-94566">
		<article id="comment-94566" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-94566"><time datetime="2016-04-04T10:41:12+00:00">April 4, 2016 at 10:41 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>If the relay contacts are suitably rated for the load you want to switch, there&#8217;s no practical limit to what you can control. Remember, the Pi is only driving a transistor to energise a small coil. It&#8217;s the relay contacts that are switched by the coil, and that actually carry the heavy load.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=94566#respond' onclick='return addComment.moveForm( "comment-94566", "94566", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-94511">
		<article id="comment-94511" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/fc25ec2b4353e8668944227e88b91936?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Boris</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-94511"><time datetime="2016-04-02T11:38:25+00:00">April 2, 2016 at 11:38 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi kevin,<br />
First of all , thanks for this post. It will help me a lot with my project.<br />
However, I would ask a little question before buying the relay and building the switch : is it risky to use a 6vDC coil relay with the 5vcc of the raspberry ?<br />
I saw that some guys had success with 6vDC relay , but will it reduce the coil life or something else ? As my provider only sells 6vDC relay..<br />
Thanks in advance.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=94511#respond' onclick='return addComment.moveForm( "comment-94511", "94511", "respond", "83" )' aria-label='Reply to Boris'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-94567">
		<article id="comment-94567" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-94567"><time datetime="2016-04-04T10:48:41+00:00">April 4, 2016 at 10:48 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>You need to check the datasheet of the relay &#8211; they usually state the minimum voltage that the contacts will switch. Most relays will energise at a lower voltage. The contacts will close more slowly, which could exacerbate arcing if this is a characteristic of the load.</p>
<p>5V relays are really quite common &#8211; might be worth looking wider for a supplier.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=94567#respond' onclick='return addComment.moveForm( "comment-94567", "94567", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-94878">
		<article id="comment-94878" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/93ffd7f9a0393c221ba41c71a61c0ccc?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Stewart Baskin</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-94878"><time datetime="2016-04-11T18:34:32+00:00">April 11, 2016 at 6:34 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks for the awesome tutorial! I wired a similar setup to a breadboard using a mini PCB power relay. If you&#8217;d like pictures to add to your tutorial I&#8217;ll be happy to send them over.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=94878#respond' onclick='return addComment.moveForm( "comment-94878", "94878", "respond", "83" )' aria-label='Reply to Stewart Baskin'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-94881">
		<article id="comment-94881" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-94881"><time datetime="2016-04-11T19:29:32+00:00">April 11, 2016 at 7:29 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks, and yes &#8211; if you have a good photo that shows the wiring clearly, then it would make a useful addition. Let me know what model of Pi you&#8217;ve connected it to, and if the GPIO pin wired up is different from the one used in the article.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=94881#respond' onclick='return addComment.moveForm( "comment-94881", "94881", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-96529">
		<article id="comment-96529" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/8c2392da041304fda667e525f3e80fdd?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">tdjtt</b> </cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-96529"><time datetime="2016-07-03T23:56:58+00:00">July 3, 2016 at 11:56 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi, thanks for this great post. I&#8217;m using a Raspberry Pi 3. The `/sys` commands all work fine, but the C program doesn&#8217;t seem to be able to activate the pin, the level remains at zero. Any idea?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=96529#respond' onclick='return addComment.moveForm( "comment-96529", "96529", "respond", "83" )' aria-label='Reply to tdjtt'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-96564">
		<article id="comment-96564" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/dcb430bed117b9a0750990584333f9ce?s=44&amp;d=retro&amp;r=G' class='avatar avatar-44 photo' height='44' width='44' /><cite><b class="fn">Kevin Sangeelee</b> <span>Post author</span></cite><a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/#comment-96564"><time datetime="2016-07-05T14:14:12+00:00">July 5, 2016 at 2:14 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I&#8217;ve not really kept up with changes in the Pi 3. I note that GPIO 17 shares with SPI0, so try unloading the SPI driver module if loaded, and make sure the pin is unexported in the sys filesystem.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a class='comment-reply-link' href='/wordpress/2012/06/raspberry-pi-relay-using-gpio/?replytocom=96564#respond' onclick='return addComment.moveForm( "comment-96564", "96564", "respond", "83" )' aria-label='Reply to Kevin Sangeelee'>Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		</ol><!-- .commentlist -->

		
		
		<div class="wrapper-form-comments">
									<div id="respond" class="comment-respond">
				<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/wordpress/2012/06/raspberry-pi-relay-using-gpio/#respond" style="display:none;">Cancel reply</a></small></h3>
									<form action="http://www.susa.net/wordpress/wp-comments-post.php" method="post" id="commentform" class="comment-form">
																			<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p>							<p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" aria-describedby="email-notes" aria-required='true' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" /></p>
												<p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" aria-describedby="form-allowed-tags" aria-required="true"></textarea></p>						<p class="form-allowed-tags" id="form-allowed-tags">You may use these <abbr title="HyperText Markup Language">HTML</abbr> tags and attributes:  <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; </code></p>						<p class="form-submit">
							<input name="submit" type="submit" id="submit" class="submit" value="Post Comment" />
							<input type='hidden' name='comment_post_ID' value='83' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
						</p>
						<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="67a1cec3a7" /></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="192"/></p>					</form>
							</div><!-- #respond -->
				</div>

</div><!-- #comments .comments-area -->
			
		</div><!-- #content -->
	</div><!-- #primary -->


			<div id="secondary" class="widget-area" role="complementary">
			<aside id="recent-comments-7" class="widget widget_recent_comments"><h3 class="widget-title"><span class="widget-title-tab">Recent Comments</span></h3><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link">Kevin Sangeelee</span> on <a href="http://www.susa.net/wordpress/2015/02/braun-thermoscan-fix-low-battery-warning-switch-off/#comment-114669">Braun ThermoScan Fix &#8211; Low Battery Warning Switch Off</a></li><li class="recentcomments"><span class="comment-author-link">Brayden</span> on <a href="http://www.susa.net/wordpress/2015/02/braun-thermoscan-fix-low-battery-warning-switch-off/#comment-114640">Braun ThermoScan Fix &#8211; Low Battery Warning Switch Off</a></li><li class="recentcomments"><span class="comment-author-link">Kevin Sangeelee</span> on <a href="http://www.susa.net/wordpress/2012/03/oil-watchman-power-tube-batteries/#comment-114375">Oil Watchman Power Tube Batteries</a></li><li class="recentcomments"><span class="comment-author-link">Paul hayworth</span> on <a href="http://www.susa.net/wordpress/2012/03/oil-watchman-power-tube-batteries/#comment-114088">Oil Watchman Power Tube Batteries</a></li><li class="recentcomments"><span class="comment-author-link">Debbie</span> on <a href="http://www.susa.net/wordpress/2015/02/braun-thermoscan-fix-low-battery-warning-switch-off/#comment-113161">Braun ThermoScan Fix &#8211; Low Battery Warning Switch Off</a></li></ul></aside>		<aside id="recent-posts-5" class="widget widget_recent_entries">		<h3 class="widget-title"><span class="widget-title-tab">Recent Posts</span></h3>		<ul>
					<li>
				<a href="http://www.susa.net/wordpress/2017/10/atech-postal-notes-on-the-fast-server/">Atech Postal &#8211; notes on the Fast Server</a>
						</li>
					<li>
				<a href="http://www.susa.net/wordpress/2015/02/braun-thermoscan-fix-low-battery-warning-switch-off/">Braun ThermoScan Fix &#8211; Low Battery Warning Switch Off</a>
						</li>
					<li>
				<a href="http://www.susa.net/wordpress/2014/06/arduino-yun-reading-wh1080-using-aurel-rx-4mm5/">Arduino Yun Reading WH1080 using AUREL RX-4MM5</a>
						</li>
					<li>
				<a href="http://www.susa.net/wordpress/2012/11/raspberry-pi-power-controller/">Raspberry Pi Power Controller</a>
						</li>
					<li>
				<a href="http://www.susa.net/wordpress/2012/10/picmosfet-pwm-model-train-controller/">PIC/MOSFET PWM Model Train Controller</a>
						</li>
				</ul>
		</aside><aside id="meta-2" class="widget widget_meta"><h3 class="widget-title"><span class="widget-title-tab">Meta</span></h3>			<ul>
						<li><a href="http://www.susa.net/wordpress/wp-login.php">Log in</a></li>
			<li><a href="http://www.susa.net/wordpress/feed/">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://www.susa.net/wordpress/comments/feed/">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
<li><a href="https://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li>			</ul>
</aside>		</div><!-- #secondary -->
		</div><!-- #main .wrapper -->
	<footer id="colophon" role="contentinfo">
		<div class="site-info">
			<div class="credits credits-left">Copyright 2017</div>
			<div class="credits credits-center">Kevin Sangeelee</div>
			<div class="credits credits-right">
			<a href="https://galussothemes.com/wordpress-themes/ribosome">Ribosome</a> by GalussoThemes.com<br />
			Powered by<a href="https://wordpress.org/" title="Semantic Personal Publishing Platform"> WordPress</a>
			</div>
		</div><!-- .site-info -->
	</footer><!-- #colophon -->
</div><!-- #page -->

		<div class="ir-arriba"><i class="fa fa-arrow-up"></i></div>
	<script type='text/javascript' src='http://www.susa.net/wordpress/wp-includes/js/comment-reply.min.js?ver=4.1'></script>
<script type='text/javascript' src='http://www.susa.net/wordpress/wp-content/themes/ribosome/js/navigation.js?ver=20140711'></script>
<script type='text/javascript' src='http://www.susa.net/wordpress/wp-content/themes/ribosome/js/ribosome-scripts-functions.js?ver=2.1.8'></script>
<script type='text/javascript' src='http://www.susa.net/wordpress/wp-content/plugins/akismet/_inc/form.js?ver=4.0'></script>

</body>
</html>
